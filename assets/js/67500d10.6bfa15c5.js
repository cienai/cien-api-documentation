"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4918],{2708:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"examples","title":"Examples & Queries","description":"CIEN\u2019S API","source":"@site/docs/examples.mdx","sourceDirName":".","slug":"/examples","permalink":"/cien-api-documentation/docs/examples","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Examples & Queries"},"sidebar":"docs","previous":{"title":"Get started","permalink":"/cien-api-documentation/docs/intro"},"next":{"title":"Rules","permalink":"/cien-api-documentation/docs/rules"}}');var n=a(4848),o=a(8453);const i={title:"Examples & Queries"},r=void 0,l={},c=[{value:"^ Top\nADE #1: Lead Duplication (V.1.2)\nPurpose of Analysis\nDuplicate leads cause multiple challenges; for example, reps are not sure if they have properly followed up on an account,\nand analysis of lead conversion gets very complicated.\nCommon Challenges and How to Accomplish with the Cien API\nTo determine duplicate leads, just looking for the exact same information in multiple records will not usually fi nd many\ndupes. Some duplicate records may have di ff erent email addresses, and/or alternate spellings of names (Mike vs. Michael\netc.). The TrueAI platform uses a \u201cfuzzy\u201d match that generates a duplicate con fi dence, and only marks the records that are\nabove that con fi dence threshold as duplicates.\nMultiple leads and accounts can often make prospecting analysis hard. To solve this problem, the TrueAI platform has\ncreated a derived entity called hat_leads (The name comes from the fact that a \u201clogical lead\u201d can wear di ff erent \u201chats\u201d; as\nan account, one lead or multiple leads). If you want to analyze lead-related data, we recommend that you use that entity. In\nthis case we are using the lead entity to illustrate the issue in your database.",id:"-topade-1-lead-duplication-v12purpose-of-analysisduplicate-leads-cause-multiple-challenges-for-example-reps-are-not-sure-if-they-have-properly-followed-up-on-an-accountand-analysis-of-lead-conversion-gets-very-complicatedcommon-challenges-and-how-to-accomplish-with-the-cien-apito-determine-duplicate-leads-just-looking-for-the-exact-same-information-in-multiple-records-will-not-usually-fi-nd-manydupes-some-duplicate-records-may-have-di-ff-erent-email-addresses-andor-alternate-spellings-of-names-mike-vs-michaeletc-the-trueai-platform-uses-a-fuzzy-match-that-generates-a-duplicate-con-fi-dence-and-only-marks-the-records-that-areabove-that-con-fi-dence-threshold-as-duplicatesmultiple-leads-and-accounts-can-often-make-prospecting-analysis-hard-to-solve-this-problem-the-trueai-platform-hascreated-a-derived-entity-called-hat_leads-the-name-comes-from-the-fact-that-a-logical-lead-can-wear-di-ff-erent-hats-asan-account-one-lead-or-multiple-leads-if-you-want-to-analyze-lead-related-data-we-recommend-that-you-use-that-entity-inthis-case-we-are-using-the-lead-entity-to-illustrate-the-issue-in-your-database",level:2},{value:"Example SQL\nSELECT\nu.trueai_group, u.trueai_user_role_dept, -- group fields\nCount(<em>) as lead_count, -- total leads\nCount(trueai_lead_dupe_id) as dupe_records, -- total duplicated records\nCount(DISTINCT trueai_lead_dupe_id) as unique_dupe_records, -- total duplicated records\nCount(trueai_lead_dupe_id) / CAST(Count(</em>) as float) as dupe_ratio,\nCount(CASE WHEN trueai_is_master = &#39;true&#39; THEN trueai_is_master END ) as master_records, -- the master\nrecord\nCount(trueai_company_dupe_id) as company_dupe_records, -- also check how many leads belong to the same\ncompany\nCount(trueai_company_dupe_id) / CAST(Count(*) as float) as company_dupe_ratio -- calculate that ratio\nFROM leads AS l -- use leads\nLEFT JOIN users AS u -- left join to users to get user info\nON l.trueai_creator_id = u._sys_doc_id -- use creator id to determine who created the dupe record\nGROUP BY u.trueai_group, trueai_user_role_dept -- group fields (group &amp; dept)\nORDER BY dupe_records DESC; -- sort by the most dupes",id:"example-sqlselectutrueai_group-utrueai_user_role_dept----group-fieldscount-as-lead_count----total-leadscounttrueai_lead_dupe_id-as-dupe_records----total-duplicated-recordscountdistinct-trueai_lead_dupe_id-as-unique_dupe_records----total-duplicated-recordscounttrueai_lead_dupe_id--castcount-as-float-as-dupe_ratiocountcase-when-trueai_is_master--true-then-trueai_is_master-end--as-master_records----the-masterrecordcounttrueai_company_dupe_id-as-company_dupe_records----also-check-how-many-leads-belong-to-the-samecompanycounttrueai_company_dupe_id--castcount-as-float-as-company_dupe_ratio----calculate-that-ratiofrom-leads-as-l----use-leadsleft-join-users-as-u----left-join-to-users-to-get-user-infoon-ltrueai_creator_id--u_sys_doc_id----use-creator-id-to-determine-who-created-the-dupe-recordgroup-by-utrueai_group-trueai_user_role_dept----group-fields-group--deptorder-by-dupe_records-desc----sort-by-the-most-dupes",level:2},{value:"ADE #2: Lead &amp; Account Completeness\nPurpose of Analysis\nIncomplete data is one of the most common data quality problems, which causes issues both for reps who need to spend\ntime looking for contact info, and for any analysis that relies on complete data such as lead source or location.\nCommon Challenges and How to Accomplish with the Cien API\nYou cannot address incomplete data without knowing what\u2019s missing. TheTrueAI platform makes this easy since the base\nCRM entities ( leads , accounts , contacts &amp; opps ) has a crm_completeness fi eld for each record, scoring the record\nbetween 0 (no meaningful data) to 1 (all needed data is populated). The score is broken down into subcomponents (contact,\ngeo, location &amp; marketing) to see exactly where problems are located. The platform then uses internal and external lookups\nto populate the corresponding TrueAI fi eld, and calculates the improved score.",id:"ade-2-lead--account-completenesspurpose-of-analysisincomplete-data-is-one-of-the-most-common-data-quality-problems-which-causes-issues-both-for-reps-who-need-to-spendtime-looking-for-contact-info-and-for-any-analysis-that-relies-on-complete-data-such-as-lead-source-or-locationcommon-challenges-and-how-to-accomplish-with-the-cien-apiyou-cannot-address-incomplete-data-without-knowing-whats-missing-thetrueai-platform-makes-this-easy-since-the-basecrm-entities--leads--accounts--contacts--opps--has-a-crm_completeness-fi-eld-for-each-record-scoring-the-recordbetween-0-no-meaningful-data-to-1-all-needed-data-is-populated-the-score-is-broken-down-into-subcomponents-contactgeo-location--marketing-to-see-exactly-where-problems-are-located-the-platform-then-uses-internal-and-external-lookupsto-populate-the-corresponding-trueai-fi-eld-and-calculates-the-improved-score",level:2},{value:"Example SQL\nSELECT\nAE.entity, -- get the entity since it is a union\nu.trueai_user_role_dept as creator_dept, -- which dept created the record\nCount(*) as record_count, -- count\nAVG(AE.crm_complt) AS avg_crm_complt_score, -- the overall score of the raw CRM data\nAVG(AE.crm_complt_contact) AS avg_crm_complt_score_contact, -- the contact info only score\nAVG(AE.crm_complt_contact_method) AS avg_crm_complt_score_contact_method, -- how much of email, phone\netc, is populated\nAVG(AE.crm_complt_geo) AS avg_crm_complt_score_geo, -- the location info score\nAVG(AE.crm_complt_marketing) AS avg_crm_completness_score_marketing, -- the marketing info like lead\nsource, industry etc\nAVG(AE.trueai_complt) AS avg_trueai_completeness_score -- the enhanced completeness score\nFROM\n-- create union of multiple tables (could also add opps &amp; contacts)\n(SELECT &#39;leads&#39; as entity, crm_createdon, trueai_creator_id, crm_complt, crm_complt_contact,\ncrm_complt_contact_method, crm_complt_geo,crm_complt_marketing,trueai_complt FROM leads AS L\nUNION\nSELECT &#39;accounts&#39; as entity, crm_createdon, trueai_creator_id, crm_complt, crm_complt_contact,\ncrm_complt_contact_method, crm_complt_geo,crm_complt_marketing,trueai_complt FROM accounts AS A\n)\nas AE\nINNER JOIN users AS u -- link in users\nON AE.trueai_creator_id = U._sys_doc_id -- look up the doc id (when available, use the trueai vs. the CRM\nfield)\nWHERE AE.crm_createdon &gt; U._sys_asof -90 -- get in the last 90 days since last data refresh\nGROUP BY AE.entity, U.trueai_user_role_dept -- group by entity and dept\nORDER BY 1,2; -- sort entities together",id:"example-sqlselectaeentity----get-the-entity-since-it-is-a-unionutrueai_user_role_dept-as-creator_dept----which-dept-created-the-recordcount-as-record_count----countavgaecrm_complt-as-avg_crm_complt_score----the-overall-score-of-the-raw-crm-dataavgaecrm_complt_contact-as-avg_crm_complt_score_contact----the-contact-info-only-scoreavgaecrm_complt_contact_method-as-avg_crm_complt_score_contact_method----how-much-of-email-phoneetc-is-populatedavgaecrm_complt_geo-as-avg_crm_complt_score_geo----the-location-info-scoreavgaecrm_complt_marketing-as-avg_crm_completness_score_marketing----the-marketing-info-like-leadsource-industry-etcavgaetrueai_complt-as-avg_trueai_completeness_score----the-enhanced-completeness-scorefrom---create-union-of-multiple-tables-could-also-add-opps--contactsselect-leads-as-entity-crm_createdon-trueai_creator_id-crm_complt-crm_complt_contactcrm_complt_contact_method-crm_complt_geocrm_complt_marketingtrueai_complt-from-leads-as-lunionselect-accounts-as-entity-crm_createdon-trueai_creator_id-crm_complt-crm_complt_contactcrm_complt_contact_method-crm_complt_geocrm_complt_marketingtrueai_complt-from-accounts-as-aas-aeinner-join-users-as-u----link-in-userson-aetrueai_creator_id--u_sys_doc_id----look-up-the-doc-id-when-available-use-the-trueai-vs-the-crmfieldwhere-aecrm_createdon--u_sys_asof--90----get-in-the-last-90-days-since-last-data-refreshgroup-by-aeentity-utrueai_user_role_dept----group-by-entity-and-deptorder-by-12----sort-entities-together",level:2},{value:"ADE #3: Consistency &amp; Con fi dence of Lead Source Consolidation (V.1.2)\nPurpose of Analysis\nAs data is added over multiple years, de fi nitions that originally were consistent and clear tend to become more inconsistent.\nThis makes any analysis very di ffi cult, since it\u2019s relying on clean categories.\nCommon Challenges and How to Accomplish with the Cien API\nThe traditional way to get data that can be analyzed is to manually clean it up, through search and replace processes. Those\nprocesses are time-consuming and error prone, and have to be repeated for each new analysis, since new data is\ncontinuously added.\nAcross multiple entities, there are fi elds such as crm_industry , crm_leadsource &amp; crm_title etc, that the platform\nconsolidates and standardizes. It uses pre-trained models which have been created to be as broadly applicable as possible.\nTypically, these models are very good at taking hundreds of di ff erent entries and condensing them down to a reasonable\nnumber of categories, which can then be used for analysis and AI model features. As this standardization occurs, the model\nreports a con fi dence value for each entry. It can be useful to look at those con fi dence values to see if there were any values\nthat the model struggled with.",id:"ade-3-consistency--con-fi-dence-of-lead-source-consolidation-v12purpose-of-analysisas-data-is-added-over-multiple-years-de-fi-nitions-that-originally-were-consistent-and-clear-tend-to-become-more-inconsistentthis-makes-any-analysis-very-di-ffi-cult-since-its-relying-on-clean-categoriescommon-challenges-and-how-to-accomplish-with-the-cien-apithe-traditional-way-to-get-data-that-can-be-analyzed-is-to-manually-clean-it-up-through-search-and-replace-processes-thoseprocesses-are-time-consuming-and-error-prone-and-have-to-be-repeated-for-each-new-analysis-since-new-data-iscontinuously-addedacross-multiple-entities-there-are-fi-elds-such-as-crm_industry--crm_leadsource--crm_title-etc-that-the-platformconsolidates-and-standardizes-it-uses-pre-trained-models-which-have-been-created-to-be-as-broadly-applicable-as-possibletypically-these-models-are-very-good-at-taking-hundreds-of-di-ff-erent-entries-and-condensing-them-down-to-a-reasonablenumber-of-categories-which-can-then-be-used-for-analysis-and-ai-model-features-as-this-standardization-occurs-the-modelreports-a-con-fi-dence-value-for-each-entry-it-can-be-useful-to-look-at-those-con-fi-dence-values-to-see-if-there-were-any-valuesthat-the-model-struggled-with",level:2},{value:"Example SQL\nSELECT -- just get the 10 most common entries\ncrm_leadsource, -- what&#39;s currently in the db\ncount(*) as count, -- count of each\ntrueai_leadsource, -- the standardized lead source\navg(trueai_leadsource_conf) as trueai_leadsource_conf -- the avg. confidence. If confidence is too low, it\nwill mark the record as ND.\nFROM leads L -- pull from leads, but the same info is in opps, accounts &amp; contacts\nWHERE\ncrm_leadsource is not null -- exclude records that are blank (they may still be populated through lookups,\nGROUP BY crm_leadsource, trueai_leadsource -- group fields\nOrder by count desc -- sort by most common instances in the db\nLIMIT 10;",id:"example-sqlselect----just-get-the-10-most-common-entriescrm_leadsource----whats-currently-in-the-dbcount-as-count----count-of-eachtrueai_leadsource----the-standardized-lead-sourceavgtrueai_leadsource_conf-as-trueai_leadsource_conf----the-avg-confidence-if-confidence-is-too-low-itwill-mark-the-record-as-ndfrom-leads-l----pull-from-leads-but-the-same-info-is-in-opps-accounts--contactswherecrm_leadsource-is-not-null----exclude-records-that-are-blank-they-may-still-be-populated-through-lookupsgroup-by-crm_leadsource-trueai_leadsource----group-fieldsorder-by-count-desc----sort-by-most-common-instances-in-the-dblimit-10",level:2},{value:"ADE #4: Sales Process Steps in a Year Summary (V.1.2)\nPurpose of Analysis\nThe key to improve sales performance is to be able to isolate where in the sales process there are ine ffi ciencies. The TrueAI\nplatform makes this very easy.\nCommon Challenges and How to Accomplish with the Cien API\nTo understand the steps of a customer journey you typically have to look at leads, accounts, contacts, opps and\nopps_history . The problem is that each company uses these entities slightly di ff erently and the de fi nitions when a speci fi c\nstate started and ended, are often unclear and inconsistent. The TrueAI platform replaces all of that complexity with the ssr\nand ssr_history derived entities, which can give you a complete insight into the di ff erent steps and their outcomes. As\neach new step is detected, the TrueAI engine also makes a prediction on the eventual outcome of the step, based on the\nknown attributes of the deal at that point (company information such as location, industry, size etc. and the level of\nengagement etc, that has occurred until that point). Please note that when that prediction is made, the owner of the current\nstep is not considered (i.e., we don\u2019t look at whether the step is assigned to a top performer or a junior rep). Therefore\noverall, over-, and underperformance of a step compared to peers can help you understand a rep\u2019s true performance on a\nspeci fi c sales task; for example in prospecting, which tends to be strongly correlated with the ability to do customer\ndiscovery well.",id:"ade-4-sales-process-steps-in-a-year-summary-v12purpose-of-analysisthe-key-to-improve-sales-performance-is-to-be-able-to-isolate-where-in-the-sales-process-there-are-ine-ffi-ciencies-the-trueaiplatform-makes-this-very-easycommon-challenges-and-how-to-accomplish-with-the-cien-apito-understand-the-steps-of-a-customer-journey-you-typically-have-to-look-at-leads-accounts-contacts-opps-andopps_history--the-problem-is-that-each-company-uses-these-entities-slightly-di-ff-erently-and-the-de-fi-nitions-when-a-speci-fi-cstate-started-and-ended-are-often-unclear-and-inconsistent-the-trueai-platform-replaces-all-of-that-complexity-with-the-ssrand-ssr_history-derived-entities-which-can-give-you-a-complete-insight-into-the-di-ff-erent-steps-and-their-outcomes-aseach-new-step-is-detected-the-trueai-engine-also-makes-a-prediction-on-the-eventual-outcome-of-the-step-based-on-theknown-attributes-of-the-deal-at-that-point-company-information-such-as-location-industry-size-etc-and-the-level-ofengagement-etc-that-has-occurred-until-that-point-please-note-that-when-that-prediction-is-made-the-owner-of-the-currentstep-is-not-considered-ie-we-dont-look-at-whether-the-step-is-assigned-to-a-top-performer-or-a-junior-rep-thereforeoverall-over--and-underperformance-of-a-step-compared-to-peers-can-help-you-understand-a-reps-true-performance-on-aspeci-fi-c-sales-task-for-example-in-prospecting-which-tends-to-be-strongly-correlated-with-the-ability-to-do-customerdiscovery-well",level:2},{value:"Example SQL\nSELECT\nSH.step_id, -- the logical number of the step\nSH.step_name, -- the name of the step\nCOUNT(SH._sys_doc_id) as steps_completed, -- how many were attempted and completed in the period\nCOUNT(CASE WHEN SH.step_success= &#39;true&#39; THEN SH._sys_doc_id END) as steps_succesful, -- how many of those\nsteps were successful\nCOUNT(CASE WHEN SH.step_success= &#39;true&#39; THEN SH._sys_doc_id END) / CAST(COUNT(SH._sys_doc_id) AS Float)\nas avg_success_rate, -- calculate how often the step succeeds\nAVG(SH.step_success_prob) as pred_success_rate, -- compare to what TrueAI predicted\nAVG(CASE WHEN SH.step_success= &#39;true&#39; THEN SH.step_length_in_days END) as success_cycle_days, -- how many\ndays when successful\nAVG(CASE WHEN SH.step_success= &#39;false&#39; THEN SH.step_length_in_days END) as failure_cycle_days, -- how\nmany days when not successful\nSUM(SH.opp_won_amt) as won_amt, -- look at actual revenue for each step\nSUM(SH.vi_value_created) as value_created -- look at value created as calculated by the Value\nIntelligence (VI) tech\nFROM ssr_history AS SH -- use the SSR history to understand the steps the GTM team has completed\nINNER JOIN ssr AS S -- use the SSR to link to the actual customer record\nON S._sys_doc_id = SH._sys_ssr_id -- primary key is always _sys_doc_id\nWHERE date_part(&#39;year&#39;, SH._sys_filt_end_date) = date_part(&#39;year&#39;, SH._sys_asof) -1 -- look at full last\nyear of data (date_part &#39;year&#39; in other SQL dialects)\nGROUP BY SH.step_id, SH.step_name -- group by the named steps\nORDER BY 1; -- sort by the logical order of the steps",id:"example-sqlselectshstep_id----the-logical-number-of-the-stepshstep_name----the-name-of-the-stepcountsh_sys_doc_id-as-steps_completed----how-many-were-attempted-and-completed-in-the-periodcountcase-when-shstep_success-true-then-sh_sys_doc_id-end-as-steps_succesful----how-many-of-thosesteps-were-successfulcountcase-when-shstep_success-true-then-sh_sys_doc_id-end--castcountsh_sys_doc_id-as-floatas-avg_success_rate----calculate-how-often-the-step-succeedsavgshstep_success_prob-as-pred_success_rate----compare-to-what-trueai-predictedavgcase-when-shstep_success-true-then-shstep_length_in_days-end-as-success_cycle_days----how-manydays-when-successfulavgcase-when-shstep_success-false-then-shstep_length_in_days-end-as-failure_cycle_days----howmany-days-when-not-successfulsumshopp_won_amt-as-won_amt----look-at-actual-revenue-for-each-stepsumshvi_value_created-as-value_created----look-at-value-created-as-calculated-by-the-valueintelligence-vi-techfrom-ssr_history-as-sh----use-the-ssr-history-to-understand-the-steps-the-gtm-team-has-completedinner-join-ssr-as-s----use-the-ssr-to-link-to-the-actual-customer-recordon-s_sys_doc_id--sh_sys_ssr_id----primary-key-is-always-_sys_doc_idwhere-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof--1----look-at-full-lastyear-of-data-date_part-year-in-other-sql-dialectsgroup-by-shstep_id-shstep_name----group-by-the-named-stepsorder-by-1----sort-by-the-logical-order-of-the-steps",level:2},{value:"ADE #5: CRM Activity Compliance by Group &amp; Role (V.1.2)\nPurpose of Analysis\nNon-compliance of the CRM tools is a common problem. Companies invest in tools to automatically capture activities etc. It\nis important to understand if those tools are being used e ffi ciently. Once you know what activities are being missed, you can\nuse this information to estimate e ff ort spent per account and rep.\nCommon Challenges and How to Accomplish with the Cien API\nUsing raw activity data, it is very di ffi cult to determine if a lot of it is missing. Cien looks at representative reps that log most\nof their activities, and use those to estimate the amount of time spent per sales step. If a rep in general logs the same\namount of activities, they have a high level of compliance. If their logged activities add up to much less, their compliance is\nlow. As with most TrueAI attributes, the con fi dence values are very useful to understand the quality of the prediction.",id:"ade-5-crm-activity-compliance-by-group--role-v12purpose-of-analysisnon-compliance-of-the-crm-tools-is-a-common-problem-companies-invest-in-tools-to-automatically-capture-activities-etc-itis-important-to-understand-if-those-tools-are-being-used-e-ffi-ciently-once-you-know-what-activities-are-being-missed-you-canuse-this-information-to-estimate-e-ff-ort-spent-per-account-and-repcommon-challenges-and-how-to-accomplish-with-the-cien-apiusing-raw-activity-data-it-is-very-di-ffi-cult-to-determine-if-a-lot-of-it-is-missing-cien-looks-at-representative-reps-that-log-mostof-their-activities-and-use-those-to-estimate-the-amount-of-time-spent-per-sales-step-if-a-rep-in-general-logs-the-sameamount-of-activities-they-have-a-high-level-of-compliance-if-their-logged-activities-add-up-to-much-less-their-compliance-islow-as-with-most-trueai-attributes-the-con-fi-dence-values-are-very-useful-to-understand-the-quality-of-the-prediction",level:2},{value:"Example SQL\nSELECT\nU.trueai_group, -- the name of the group\ncount(DISTINCT uh._sys_user_id) as rep_count, -- total number of reps in the period\navg(uh.ci_act_capt_lvl) as avg_act_capture_level, -- what % of activities do we estimate are actually\nlogged\navg(uh.ci_act_capt_lvl_conf) as avg_act_capture_level_confidence, -- what is the confidence in this\nassessment?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = &#39;Account Executive&#39; THEN uh._sys_user_id END) as ae_count,\n-- how many of the reps are AEs?\nAVG( CASE WHEN U.trueai_user_role = &#39;Account Executive&#39; THEN uh.ci_act_capt_lvl END) as\navg_ae_act_capture_level, -- what do they log?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = &#39;Sales Development Rep&#39; THEN uh._sys_user_id END) as\nsdr_count, -- how many of the reps are SDRs?\nAVG(CASE WHEN U.trueai_user_role = &#39;Sales Development Rep&#39; THEN uh.ci_act_capt_lvl END) as\navg_sdr_act_capture_level, -- what do they log?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = &#39;Account Manager&#39; THEN uh._sys_user_id END) as am_count, --\nhow many of the reps are AMs?\nAVG( CASE WHEN U.trueai_user_role = &#39;Account Manager&#39; THEN uh.ci_act_capt_lvl END) as\navg_am_act_capture_level -- what do they log?\nFROM users_history AS UH -- use the user history entity to get past data\nINNER JOIN users AS U -- link w/ current user list\nON U._sys_doc_id = UH._sys_user_id -- always link via primary key _sys_doc_id\nAND UH._sys_filt_end_date &gt; U._sys_asof - 90 -- look at the last 90 days\nAND U.trueai_termination_date is null -- do not include reps that were terminated\nGROUP BY U.trueai_group -- breakdown by group (ND is the default group)\nORDER BY 1; -- sort the group",id:"example-sqlselectutrueai_group----the-name-of-the-groupcountdistinct-uh_sys_user_id-as-rep_count----total-number-of-reps-in-the-periodavguhci_act_capt_lvl-as-avg_act_capture_level----what--of-activities-do-we-estimate-are-actuallyloggedavguhci_act_capt_lvl_conf-as-avg_act_capture_level_confidence----what-is-the-confidence-in-thisassessmentcountdistinct-case-when-utrueai_user_role--account-executive-then-uh_sys_user_id-end-as-ae_count---how-many-of-the-reps-are-aesavg-case-when-utrueai_user_role--account-executive-then-uhci_act_capt_lvl-end-asavg_ae_act_capture_level----what-do-they-logcountdistinct-case-when-utrueai_user_role--sales-development-rep-then-uh_sys_user_id-end-assdr_count----how-many-of-the-reps-are-sdrsavgcase-when-utrueai_user_role--sales-development-rep-then-uhci_act_capt_lvl-end-asavg_sdr_act_capture_level----what-do-they-logcountdistinct-case-when-utrueai_user_role--account-manager-then-uh_sys_user_id-end-as-am_count---how-many-of-the-reps-are-amsavg-case-when-utrueai_user_role--account-manager-then-uhci_act_capt_lvl-end-asavg_am_act_capture_level----what-do-they-logfrom-users_history-as-uh----use-the-user-history-entity-to-get-past-datainner-join-users-as-u----link-w-current-user-liston-u_sys_doc_id--uh_sys_user_id----always-link-via-primary-key-_sys_doc_idand-uh_sys_filt_end_date--u_sys_asof---90----look-at-the-last-90-daysand-utrueai_termination_date-is-null----do-not-include-reps-that-were-terminatedgroup-by-utrueai_group----breakdown-by-group-nd-is-the-default-grouporder-by-1----sort-the-group",level:2},{value:"ADE #6: AI Prediction Quality (V.1.2)\nPurpose of Analysis\nAs Yogi Berra said: \u201cPredictions are hard. Especially about the future.\u201d The Cien platform attempts to predict every sales step\nand many other things on an ongoing basis. To avoid model drift and declining prediction quality, as new data comes in, the\nprediction models are retrained and automatically updated online. Those quality scores are available to API developers.\nCommon Challenges and How to Accomplish with the Cien API\nMost lead scoring tools provide very little transparency into the actual quality of their predictions. Cien is di ff erent. By\nlooking at the companies_history entity you can get the latest quality scores on multiple quality metrics such as r 2\n(correlation of coe ffi cient) and AUC (area under curve), both from live sampling of actual outcomes and scores post-training.\nIf you are concerned with the quality of a speci fi c model, please contact api@cien.ai.",id:"ade-6-ai-prediction-quality-v12purpose-of-analysisas-yogi-berra-said-predictions-are-hard-especially-about-the-future-the-cien-platform-attempts-to-predict-every-sales-stepand-many-other-things-on-an-ongoing-basis-to-avoid-model-drift-and-declining-prediction-quality-as-new-data-comes-in-theprediction-models-are-retrained-and-automatically-updated-online-those-quality-scores-are-available-to-api-developerscommon-challenges-and-how-to-accomplish-with-the-cien-apimost-lead-scoring-tools-provide-very-little-transparency-into-the-actual-quality-of-their-predictions-cien-is-di-ff-erent-bylooking-at-the-companies_history-entity-you-can-get-the-latest-quality-scores-on-multiple-quality-metrics-such-as-r-2correlation-of-coe-ffi-cient-and-auc-area-under-curve-both-from-live-sampling-of-actual-outcomes-and-scores-post-trainingif-you-are-concerned-with-the-quality-of-a-speci-fi-c-model-please-contact-apicienai",level:2},{value:"Example SQL\nSELECT\nCH._sys_processed_asof, -- date of processing\nCH.di_pred_prospecting_r2, -- the prospecting r2 score measured on performed predictions\nCH.di_pred_prospecting_auc, -- the AUC score measured on performed predictions\nCH.di_pred_prospecting_validation_score, -- the r2 score on the validation set during online training\nCH.di_pred_new_logo_r2, -- same for new logo\nCH.di_pred_new_logo_auc, -- the AUC score measured on performed predictions\nCH.di_pred_selling_validation_score -- the r2 score on the validation set during online training\nFROM companies_history CH -- the company history entity contains company specfic settings and stats\nrelated to a specific processing cycle\nORDER BY CH._sys_processed_asof DESC -- sort by most recent\nLIMIT 5; -- just take the top 5 results",id:"example-sqlselectch_sys_processed_asof----date-of-processingchdi_pred_prospecting_r2----the-prospecting-r2-score-measured-on-performed-predictionschdi_pred_prospecting_auc----the-auc-score-measured-on-performed-predictionschdi_pred_prospecting_validation_score----the-r2-score-on-the-validation-set-during-online-trainingchdi_pred_new_logo_r2----same-for-new-logochdi_pred_new_logo_auc----the-auc-score-measured-on-performed-predictionschdi_pred_selling_validation_score----the-r2-score-on-the-validation-set-during-online-trainingfrom-companies_history-ch----the-company-history-entity-contains-company-specfic-settings-and-statsrelated-to-a-specific-processing-cycleorder-by-ch_sys_processed_asof-desc----sort-by-most-recentlimit-5----just-take-the-top-5-results",level:2},{value:"DI #1: Historical Revenue (V.1.2)\nPurpose of Analysis\nKnowing past years\u2019 sales numbers may seem like the most basic analysis you can do of a GTM team, but as always, there\nare things that commonly skews the data and insights, leading to the wrong conclusions.\nCommon Challenges and How to Accomplish with the Cien API\nThe fi rst thing to know is whether a particular deal is the fi rst or a repeat purchase by a customer. Most RevOps teams rely\non using the crm_opp_type fi eld in the opps entity for that information, but if you look at that fi eld carefully, you will\nusually fi nd incorrect and inconsistently tagged opps. It\u2019s better if you also look for prior purchases by the same\n(de-duplicated) account. Other challenges may be opps with amounts in di ff erent currencies making aggregates di ffi cult.\nAn easier way to get this information, is to use the ssr_history table, where the data has been normalized and it is easy\nto do sub-category summarization by year, type of sales team, role etc.",id:"di-1-historical-revenue-v12purpose-of-analysisknowing-past-years-sales-numbers-may-seem-like-the-most-basic-analysis-you-can-do-of-a-gtm-team-but-as-always-thereare-things-that-commonly-skews-the-data-and-insights-leading-to-the-wrong-conclusionscommon-challenges-and-how-to-accomplish-with-the-cien-apithe-fi-rst-thing-to-know-is-whether-a-particular-deal-is-the-fi-rst-or-a-repeat-purchase-by-a-customer-most-revops-teams-relyon-using-the-crm_opp_type-fi-eld-in-the-opps-entity-for-that-information-but-if-you-look-at-that-fi-eld-carefully-you-willusually-fi-nd-incorrect-and-inconsistently-tagged-opps-its-better-if-you-also-look-for-prior-purchases-by-the-samede-duplicated-account-other-challenges-may-be-opps-with-amounts-in-di-ff-erent-currencies-making-aggregates-di-ffi-cultan-easier-way-to-get-this-information-is-to-use-the-ssr_history-table-where-the-data-has-been-normalized-and-it-is-easyto-do-sub-category-summarization-by-year-type-of-sales-team-role-etc",level:2},{value:"Example SQL\nSELECT\ndate_part(&#39;year&#39;, SH._sys_filt_end_date) as year, -- which year?\nSUM(SH.opp_won_amt) as won_amount, -- total booked revenue\n(SELECT CH.company_currency FROM companies_history CH ORDER BY _sys_asof DESC LIMIT 1) as currency, --\nget the company primary currency\nCOUNT(SH._sys_doc_id) as won_deals, -- total won deals\nAVG(SH.opp_won_amt) as avg_deal_size, -- the avg won deal size\nSUM(CASE WHEN step_name = &#39;New Logo Selling&#39; THEN SH.opp_won_amt END) as new_logo_amount, -- new logo\nrevenue only\nSUM(CASE WHEN step_name = &#39;Upselling&#39; THEN SH.opp_won_amt END) as upselling_amount, -- upselling revenue\nonly\nSUM(CASE WHEN step_name = &#39;Upselling&#39; AND SH.opp_sale_type = &#39;Expansion Sale&#39; THEN SH.opp_won_amt END)\nas upselling_expansion_amount, -- part of upselling that&#39;s expansion sale\nSUM(CASE WHEN step_name = &#39;Upselling&#39; AND SH.opp_sale_type = &#39;Renewal&#39; THEN SH.opp_won_amt END) as\nupselling_renewal_amount -- part of upselling that&#39;s renewals\nFROM ssr_history AS SH -- get from the ssr history\nWHERE step_name in (&#39;New Logo Selling&#39;, &#39;Upselling&#39;) -- we only care about these two steps not the rest\nAND SH.step_success = &#39;true&#39; -- we only care about deals that were won\nGROUP BY date_part(&#39;year&#39;, SH._sys_filt_end_date) -- group by year\nORDER BY 1 DESC -- sort most recent year first\nLIMIT 5; -- go back 5 years",id:"example-sqlselectdate_partyear-sh_sys_filt_end_date-as-year----which-yearsumshopp_won_amt-as-won_amount----total-booked-revenueselect-chcompany_currency-from-companies_history-ch-order-by-_sys_asof-desc-limit-1-as-currency---get-the-company-primary-currencycountsh_sys_doc_id-as-won_deals----total-won-dealsavgshopp_won_amt-as-avg_deal_size----the-avg-won-deal-sizesumcase-when-step_name--new-logo-selling-then-shopp_won_amt-end-as-new_logo_amount----new-logorevenue-onlysumcase-when-step_name--upselling-then-shopp_won_amt-end-as-upselling_amount----upselling-revenueonlysumcase-when-step_name--upselling-and-shopp_sale_type--expansion-sale-then-shopp_won_amt-endas-upselling_expansion_amount----part-of-upselling-thats-expansion-salesumcase-when-step_name--upselling-and-shopp_sale_type--renewal-then-shopp_won_amt-end-asupselling_renewal_amount----part-of-upselling-thats-renewalsfrom-ssr_history-as-sh----get-from-the-ssr-historywhere-step_name-in-new-logo-selling-upselling----we-only-care-about-these-two-steps-not-the-restand-shstep_success--true----we-only-care-about-deals-that-were-wongroup-by-date_partyear-sh_sys_filt_end_date----group-by-yearorder-by-1-desc----sort-most-recent-year-firstlimit-5----go-back-5-years",level:2},{value:"DI #2: Churn Analysis (V.1.2)\nPurpose of Analysis\nMost B2B companies rely on repeat purchases by their clients, even if they do not have an explicit subscription model.\nFailing to sell to a lot of those clients again is usually considered one of the most severe GTM problems; therefore, the root\ncauses must be investigated thoroughly since they can be attributed to product, customer segment, support practice,\naccount management , or, more likely, a combination of those factors.\nCommon Challenges and How to Accomplish with the Cien API\nIt\u2019s always helpful to have a \u201ccustomer-walk\u201d year by year, which shows starting customers, new, churned, retained and\nending customers. With that data you can then calculate churn rate, growth rate, etc, etc. The biggest challenge is to know\nwhen and if an account has actually churned. CRM systems like Salesforce do not have an account status fi eld and churned\ndate fi eld. Sometimes you can get this info from ERP systems; however, then you may have trouble cross-referencing it\nwith the CRM data, since it uses di ff erent names and IDs.\nCien determines the trueai_first_purchase and trueai_churned_on values for accounts in the ssr entity based on\nwhen the fi rst deal was won, and if there are subsequent deals within a year of that point. Please note that this analysis will\nonly be valid if renewals are logged as opps in the CRM. If not, additional data from an ERP/Billing system must be\nsupplied.",id:"di-2-churn-analysis-v12purpose-of-analysismost-b2b-companies-rely-on-repeat-purchases-by-their-clients-even-if-they-do-not-have-an-explicit-subscription-modelfailing-to-sell-to-a-lot-of-those-clients-again-is-usually-considered-one-of-the-most-severe-gtm-problems-therefore-the-rootcauses-must-be-investigated-thoroughly-since-they-can-be-attributed-to-product-customer-segment-support-practiceaccount-management--or-more-likely-a-combination-of-those-factorscommon-challenges-and-how-to-accomplish-with-the-cien-apiits-always-helpful-to-have-a-customer-walk-year-by-year-which-shows-starting-customers-new-churned-retained-andending-customers-with-that-data-you-can-then-calculate-churn-rate-growth-rate-etc-etc-the-biggest-challenge-is-to-knowwhen-and-if-an-account-has-actually-churned-crm-systems-like-salesforce-do-not-have-an-account-status-fi-eld-and-churneddate-fi-eld-sometimes-you-can-get-this-info-from-erp-systems-however-then-you-may-have-trouble-cross-referencing-itwith-the-crm-data-since-it-uses-di-ff-erent-names-and-idscien-determines-the-trueai_first_purchase-and-trueai_churned_on-values-for-accounts-in-the-ssr-entity-based-onwhen-the-fi-rst-deal-was-won-and-if-there-are-subsequent-deals-within-a-year-of-that-point-please-note-that-this-analysis-willonly-be-valid-if-renewals-are-logged-as-opps-in-the-crm-if-not-additional-data-from-an-erpbilling-system-must-besupplied",level:2},{value:"DI #3: Pipeline Creation by Sale Type &amp; Quality (V.1.2)\nPurpose of Analysis\nWhen surveying senior sales executives about their priorities, creating a bigger and better pipeline is almost always among\ntheir top 3 objectives. However, it is important to measure pipeline not just in deals and pipeline amount, but also in\nquality. It is often easy for reps to create low-quality pipeline by simply entering deals that they hope will close, doing so\nwithout performing the required quali fi cation steps. Cien detects this automatically.\nCommon Challenges and How to Accomplish with the Cien API\nAs in other deal analysis, pipeline analysis needs to be segmented between existing and new logo business, since the win\nrates tend to be quite di ff erent. You should also predict the probability of a win for each deal based on the attributes of the\naccount and what has occurred until now (e.g., the level of engagement during initial discovery). This is extremely hard to\ndo using raw CRM data, since you often don\u2019t have access to clean outcomes and enough training data to build a reliable\nprediction model. Cien\u2019s Deal Intelligence uses AI models trained on millions of records - fi ne-tuned on your speci fi c data -\nto predict those outcomes. Please see the ADE prediction accuracy example above for how to inspect the quality of deal\npredictions over time of your data.\nAs with most deal analysis, we use the ssr_history entity instead of the CRM opps table, but here we are looking at the\nProspecting (for new logo selling) and Post-Sale Support (for upselling) steps by fi ltering by step_name .",id:"di-3-pipeline-creation-by-sale-type--quality-v12purpose-of-analysiswhen-surveying-senior-sales-executives-about-their-priorities-creating-a-bigger-and-better-pipeline-is-almost-always-amongtheir-top-3-objectives-however-it-is-important-to-measure-pipeline-not-just-in-deals-and-pipeline-amount-but-also-inquality-it-is-often-easy-for-reps-to-create-low-quality-pipeline-by-simply-entering-deals-that-they-hope-will-close-doing-sowithout-performing-the-required-quali-fi-cation-steps-cien-detects-this-automaticallycommon-challenges-and-how-to-accomplish-with-the-cien-apias-in-other-deal-analysis-pipeline-analysis-needs-to-be-segmented-between-existing-and-new-logo-business-since-the-winrates-tend-to-be-quite-di-ff-erent-you-should-also-predict-the-probability-of-a-win-for-each-deal-based-on-the-attributes-of-theaccount-and-what-has-occurred-until-now-eg-the-level-of-engagement-during-initial-discovery-this-is-extremely-hard-todo-using-raw-crm-data-since-you-often-dont-have-access-to-clean-outcomes-and-enough-training-data-to-build-a-reliableprediction-model-ciens-deal-intelligence-uses-ai-models-trained-on-millions-of-records---fi-ne-tuned-on-your-speci-fi-c-data--to-predict-those-outcomes-please-see-the-ade-prediction-accuracy-example-above-for-how-to-inspect-the-quality-of-dealpredictions-over-time-of-your-dataas-with-most-deal-analysis-we-use-the-ssr_history-entity-instead-of-the-crm-opps-table-but-here-we-are-looking-at-theprospecting-for-new-logo-selling-and-post-sale-support-for-upselling-steps-by-fi-ltering-by-step_name-",level:2},{value:"DI #4: Pipeline Analysis by Creator Group &amp; Role (V.1.2)\nPurpose of Analysis\nWhile creating pipeline is top-of-mind for GTM leadership, there are often doubts whether speci fi c groups and/or roles are\ncontributing to the overall success of the sales team.\nCommon Challenges and How to Accomplish with the Cien API\nLooking at the pipeline in aggregate is often not helpful, and it\u2019s easy to draw very wrong conclusions. E.g., a common\ncomplaint is that SDRs create poorly quali fi ed pipeline that AEs then struggle to close. To determine if that is the case, you\nneed to know who created the pipeline (hard if there are hando ff s at di ff erent points in the buyer journey). You also need\nto know the role of each rep, and you need to have a way to objectively measure the quality (probability of winning the\ndeal) of each deal. None of this data is available in the raw CRM feed in a standardized format.\nCien makes that analysis easy using the ssr_history and users entities. We are again relying on the\nstep_next_success_prob fi eld, which contains the success prediction of the subsequent step. The\nstep_success_prob predicts the probability of success in the current step. I.e., in this example the probability of a\nconversion into an opportunity.",id:"di-4-pipeline-analysis-by-creator-group--role-v12purpose-of-analysiswhile-creating-pipeline-is-top-of-mind-for-gtm-leadership-there-are-often-doubts-whether-speci-fi-c-groups-andor-roles-arecontributing-to-the-overall-success-of-the-sales-teamcommon-challenges-and-how-to-accomplish-with-the-cien-apilooking-at-the-pipeline-in-aggregate-is-often-not-helpful-and-its-easy-to-draw-very-wrong-conclusions-eg-a-commoncomplaint-is-that-sdrs-create-poorly-quali-fi-ed-pipeline-that-aes-then-struggle-to-close-to-determine-if-that-is-the-case-youneed-to-know-who-created-the-pipeline-hard-if-there-are-hando-ff-s-at-di-ff-erent-points-in-the-buyer-journey-you-also-needto-know-the-role-of-each-rep-and-you-need-to-have-a-way-to-objectively-measure-the-quality-probability-of-winning-thedeal-of-each-deal-none-of-this-data-is-available-in-the-raw-crm-feed-in-a-standardized-formatcien-makes-that-analysis-easy-using-the-ssr_history-and-users-entities-we-are-again-relying-on-thestep_next_success_prob-fi-eld-which-contains-the-success-prediction-of-the-subsequent-step-thestep_success_prob-predicts-the-probability-of-success-in-the-current-step-ie-in-this-example-the-probability-of-aconversion-into-an-opportunity",level:2},{value:"Example SQL\nSELECT\nU.trueai_group, -- the sales group\nSUM(SH.opp_pipeline_amt) as total_pipeline_created, -- the pipeline created during the period\nAVG(SH.step_next_success_prob) as predicted_opp_win_rate, -- the avg. predicted win rate of that\npipeline (pipeline quality)\nSUM(SH.step_next_success_prob * SH.opp_pipeline_amt) as predicted_opp_win_amount, -- predicted win rate\ntimes amount is the expected won amount resulting from this pipeline\nSUM(CASE WHEN U.trueai_user_role_function = &#39;AE&#39; THEN SH.opp_pipeline_amt END) as ae_pipeline, -- just\npipeline created by AEs\nAVG(CASE WHEN U.trueai_user_role_function = &#39;AE&#39; THEN SH.step_next_success_prob END) as\nae_predicted_opp_win_rate, -- the avg. predicted win rate for AE only\nSUM(CASE WHEN U.trueai_user_role_function = &#39;SDR&#39; THEN SH.opp_pipeline_amt END) as sdr_pipeline, -- just\npipeline created by SDRs\nAVG(CASE WHEN U.trueai_user_role_function = &#39;SDR&#39; THEN SH.step_next_success_prob END) as\nsdr_predicted_opp_win_rate -- the avg. predicted win rate for SDR only\nFROM ssr AS S -- link in SSR\nINNER JOIN ssr_history AS SH -- the SSR history gives you the bulk of the details\nON S._sys_doc_id = SH._sys_ssr_id\nINNER JOIN users U\nON SH.step_owner_id = U._sys_doc_id\nWHERE date_part(&#39;year&#39;, SH._sys_filt_end_date) = date_part(&#39;year&#39;, SH._sys_asof)-1 -- look at last year\nAND (S.trueai_account_is_master = &#39;true&#39; OR S.trueai_account_is_master IS NULL) -- remove duplicates\nAND SH.step_name in (&#39;Prospecting&#39;) -- let&#39;s only look at new logo prospecting\nAND SH.step_success = &#39;true&#39; -- we&#39;re only interested in successfully completed steps, since we want to\ndetermine what will happen in the next step (selling)\nAND U.trueai_user_role_function in (&#39;SDR&#39;,&#39;AE&#39;) -- let&#39;s exclude other roles\nGROUP BY U.trueai_group -- group by the sales team\nORDER BY 1; -- order by group",id:"example-sqlselectutrueai_group----the-sales-groupsumshopp_pipeline_amt-as-total_pipeline_created----the-pipeline-created-during-the-periodavgshstep_next_success_prob-as-predicted_opp_win_rate----the-avg-predicted-win-rate-of-thatpipeline-pipeline-qualitysumshstep_next_success_prob--shopp_pipeline_amt-as-predicted_opp_win_amount----predicted-win-ratetimes-amount-is-the-expected-won-amount-resulting-from-this-pipelinesumcase-when-utrueai_user_role_function--ae-then-shopp_pipeline_amt-end-as-ae_pipeline----justpipeline-created-by-aesavgcase-when-utrueai_user_role_function--ae-then-shstep_next_success_prob-end-asae_predicted_opp_win_rate----the-avg-predicted-win-rate-for-ae-onlysumcase-when-utrueai_user_role_function--sdr-then-shopp_pipeline_amt-end-as-sdr_pipeline----justpipeline-created-by-sdrsavgcase-when-utrueai_user_role_function--sdr-then-shstep_next_success_prob-end-assdr_predicted_opp_win_rate----the-avg-predicted-win-rate-for-sdr-onlyfrom-ssr-as-s----link-in-ssrinner-join-ssr_history-as-sh----the-ssr-history-gives-you-the-bulk-of-the-detailson-s_sys_doc_id--sh_sys_ssr_idinner-join-users-uon-shstep_owner_id--u_sys_doc_idwhere-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof-1----look-at-last-yearand-strueai_account_is_master--true-or-strueai_account_is_master-is-null----remove-duplicatesand-shstep_name-in-prospecting----lets-only-look-at-new-logo-prospectingand-shstep_success--true----were-only-interested-in-successfully-completed-steps-since-we-want-todetermine-what-will-happen-in-the-next-step-sellingand-utrueai_user_role_function-in-sdrae----lets-exclude-other-rolesgroup-by-utrueai_group----group-by-the-sales-teamorder-by-1----order-by-group",level:2},{value:"DI #5: Win/Loss Analysis of New Logo Sales (V.1.2)\nPurpose of Analysis\nEveryone wants to understand the secret to winning deals. There are tons of \u201cbest practices\u201d out there, but what is really\ninteresting is what factors have made reps win deals in your GTM organization. Here is a simple analysis that highlights\nwhat tends to be the factors with the biggest impact.\nCommon Challenges and How to Accomplish with the Cien API\nTraditional win/loss analysis is often highly qualitative. The team pulls up X number of completed deals (usually just a\nfraction of all the deals in a quarter) and looks at what happened, what the customer did, how the rep responded and any\nother facts relevant to that speci fi c deal; for example, where the customer was located or which industry it was in.\nThis analysis is often useful to understand broad trends, but it does not help much in ongoing global analysis of all deals\nand the most important factors for those, since most data is usually not readily available in the CRM database. And even if\nthe data points are present, they are usually not adjusted based on data quality. E.g., raw activity count may vary a lot\ndepending on if the rep is automatically recording their activities or not, whereas the stakeholders_all_adj_duration\nfi eld estimates the total time the team has spent on the deal in a speci fi c step, accounting for various levels of logging and\nprep time.\nCien makes that type of analysis available with a minimum of e ff ort using the ssr_history entity grouping by the\nstep_outcome fi eld. For simplicity, this analysis does not include stakeholder roles and levels, (i.e., which dept. and\nseniority a contact has) \u2013 this information can sometimes have a big impact as well and is also available in the same entity.",id:"di-5-winloss-analysis-of-new-logo-sales-v12purpose-of-analysiseveryone-wants-to-understand-the-secret-to-winning-deals-there-are-tons-of-best-practices-out-there-but-what-is-reallyinteresting-is-what-factors-have-made-reps-win-deals-in-your-gtm-organization-here-is-a-simple-analysis-that-highlightswhat-tends-to-be-the-factors-with-the-biggest-impactcommon-challenges-and-how-to-accomplish-with-the-cien-apitraditional-winloss-analysis-is-often-highly-qualitative-the-team-pulls-up-x-number-of-completed-deals-usually-just-afraction-of-all-the-deals-in-a-quarter-and-looks-at-what-happened-what-the-customer-did-how-the-rep-responded-and-anyother-facts-relevant-to-that-speci-fi-c-deal-for-example-where-the-customer-was-located-or-which-industry-it-was-inthis-analysis-is-often-useful-to-understand-broad-trends-but-it-does-not-help-much-in-ongoing-global-analysis-of-all-dealsand-the-most-important-factors-for-those-since-most-data-is-usually-not-readily-available-in-the-crm-database-and-even-ifthe-data-points-are-present-they-are-usually-not-adjusted-based-on-data-quality-eg-raw-activity-count-may-vary-a-lotdepending-on-if-the-rep-is-automatically-recording-their-activities-or-not-whereas-the-stakeholders_all_adj_durationfi-eld-estimates-the-total-time-the-team-has-spent-on-the-deal-in-a-speci-fi-c-step-accounting-for-various-levels-of-logging-andprep-timecien-makes-that-type-of-analysis-available-with-a-minimum-of-e-ff-ort-using-the-ssr_history-entity-grouping-by-thestep_outcome-fi-eld-for-simplicity-this-analysis-does-not-include-stakeholder-roles-and-levels-ie-which-dept-andseniority-a-contact-has--this-information-can-sometimes-have-a-big-impact-as-well-and-is-also-available-in-the-same-entity",level:2},{value:"Example SQL\nSELECT\nSH.step_outcome, -- outcome, in this case won or lost\nAVG(SH.step_success_prob) as avg_success_prediction, -- what was the avg prediction for each outcome\nCOUNT(SH._sys_doc_id) AS deal_count, -- count of deals\nAVG(SH.step_length_in_days) AS avg_days, -- see how long each cycle is on avg in days\nAVG(SH.stkhlds_all_dur) / 3600 AS avg_hours_deal, -- total time spent on the deal (divide seconds by\n3600 to get hours)\nAVG(SH.stkhlds_all_dur_eng) / 3600 as avg_engaged_hours_deal, -- how many avtivities on avg were\nengaged\nAVG(SH.stkhlds_all_dur_eng) / CAST(AVG(SH.stkhlds_all_dur +1) as float) engagement_ratio, -- get the\nratio\nAVG(CAST(SH.stkhlds_all_contacts_count as float)) as avg_number_of_contacts_involved -- get the avg\nnumber of contacts (need to cast to get a decimal)\nFROM ssr_history SH -- ssr history has all the sales steps info\nWHERE SH.step_name IN (&#39;New Logo Selling&#39;) -- we&#39;re only interested in new logo\nAND date_part(&#39;year&#39;, SH._sys_filt_end_date) = date_part(&#39;year&#39;, SH._sys_asof) - 1 -- look at full last\nyear\nAND SH.step_outcome IS NOT NULL -- exclude deals that are not yet closed\nGROUP by SH.step_outcome -- group by outcome - in this case won or lost\nORDER BY 1 DESC; -- sort by outcome",id:"example-sqlselectshstep_outcome----outcome-in-this-case-won-or-lostavgshstep_success_prob-as-avg_success_prediction----what-was-the-avg-prediction-for-each-outcomecountsh_sys_doc_id-as-deal_count----count-of-dealsavgshstep_length_in_days-as-avg_days----see-how-long-each-cycle-is-on-avg-in-daysavgshstkhlds_all_dur--3600-as-avg_hours_deal----total-time-spent-on-the-deal-divide-seconds-by3600-to-get-hoursavgshstkhlds_all_dur_eng--3600-as-avg_engaged_hours_deal----how-many-avtivities-on-avg-wereengagedavgshstkhlds_all_dur_eng--castavgshstkhlds_all_dur-1-as-float-engagement_ratio----get-theratioavgcastshstkhlds_all_contacts_count-as-float-as-avg_number_of_contacts_involved----get-the-avgnumber-of-contacts-need-to-cast-to-get-a-decimalfrom-ssr_history-sh----ssr-history-has-all-the-sales-steps-infowhere-shstep_name-in-new-logo-selling----were-only-interested-in-new-logoand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof---1----look-at-full-lastyearand-shstep_outcome-is-not-null----exclude-deals-that-are-not-yet-closedgroup-by-shstep_outcome----group-by-outcome---in-this-case-won-or-lostorder-by-1-desc----sort-by-outcome",level:2},{value:"DI #6: Revenue Concentration Analysis (V.1.2)\nPurpose of Analysis\nHaving too much revenue concentrated in a few large clients poses a great risk for a GTM organization. At the same time,\nmany revenue leaders cite the Pareto principle (80% of your revenue comes from 20% of your clients) as almost inevitable.\nCommon Challenges and How to Accomplish with the Cien API\nThis analysis, unlike most other analyses, is not dependent on a lot of cleaning up of data, except that a customer with\nmultiple purchases within a year needs to be consolidated.\nThe tricky part of this analysis is to use running totals based on di ff erent sort orders. By using the PARTITION and OVER\nkeywords in SQL, it is possible to get the number of the largest account that represents 80% of total annual revenue and\ncompare that to the total number of accounts that bought in the year.",id:"di-6-revenue-concentration-analysis-v12purpose-of-analysishaving-too-much-revenue-concentrated-in-a-few-large-clients-poses-a-great-risk-for-a-gtm-organization-at-the-same-timemany-revenue-leaders-cite-the-pareto-principle-80-of-your-revenue-comes-from-20-of-your-clients-as-almost-inevitablecommon-challenges-and-how-to-accomplish-with-the-cien-apithis-analysis-unlike-most-other-analyses-is-not-dependent-on-a-lot-of-cleaning-up-of-data-except-that-a-customer-withmultiple-purchases-within-a-year-needs-to-be-consolidatedthe-tricky-part-of-this-analysis-is-to-use-running-totals-based-on-di-ff-erent-sort-orders-by-using-the-partition-and-overkeywords-in-sql-it-is-possible-to-get-the-number-of-the-largest-account-that-represents-80-of-total-annual-revenue-andcompare-that-to-the-total-number-of-accounts-that-bought-in-the-year",level:2},{value:"Example SQL\nSELECT\ndate_part(&#39;year&#39;, _sys_filt_end_date) as year, -- get the year\nSUM(opp_won_amt) as sum_sales, -- get the sum of sales\nCOUNT(DISTINCT _sys_ssr_id) as customer_count, -- get # of buying customers\nAVG(opp_won_amt) as avg_sale_per_customer, -- get avg rev per account\nMAX(opp_won_amt) as biggest_customer_amt, -- get size of biggest account\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size &lt;= (total_won * 0.8) THEN _sys_ssr_id END) as\neighty_pct_revenue_customer_count, -- include all up to 80% of rev to get pareto number\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size &lt;= (total_won * 0.8) THEN _sys_ssr_id END) /\nCAST(COUNT(DISTINCT _sys_ssr_id) as decimal) as eighty_pct_revenue_customer_percentage -- percentage of\npareto number\nFROM -- second agg to do the rankings\n(SELECT\n_sys_filt_end_date, -- get the date\n_sys_ssr_id,\nopp_won_amt,\nROW_NUMBER() OVER (PARTITION BY date_part(&#39;year&#39;, _sys_filt_end_date) ORDER BY _sys_filt_end_date) as\nsale_num, -- get the number of the account based on purchase date\nSUM(opp_won_amt) OVER (PARTITION BY date_part(&#39;year&#39;, _sys_filt_end_date) ORDER BY _sys_filt_end_date)\nas cumul_amt_won, -- add up sales for cumulative total based on date\nSUM(opp_won_amt) OVER (PARTITION BY date_part(&#39;year&#39;, _sys_filt_end_date)) as total_won, -- get the\ntotal won in the grouping (year)\nROW_NUMBER() OVER (PARTITION BY date_part(&#39;year&#39;, _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncust_size_rank, -- get the rank per year w/ 1 being the biggest customer\nSUM(opp_won_amt) OVER (PARTITION BY date_part(&#39;year&#39;, _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncumul_by_cust_size -- get the ordering by size\nFROM -- first aggregation just get rev per year and account\n(SELECT\nMAX(_sys_filt_end_date) as _sys_filt_end_date, -- get the highest date for a purchase of that account\n_sys_ssr_id, -- get the unique account\nSUM(SH.opp_won_amt) as opp_won_amt -- sum up all purchases of that account\nFROM ssr_history SH\nWHERE SH.opp_won_amt &gt; 0 -- only care about clients that bought\nAND date_part(&#39;year&#39;, SH._sys_filt_end_date) &gt;= date_part(&#39;year&#39;, SH._sys_asof)-5 -- go back 5 years\nAND date_part(&#39;year&#39;, SH._sys_filt_end_date) &lt; date_part(&#39;year&#39;, SH._sys_asof) -- exclude current\npartial year\nGROUP BY date_part(&#39;year&#39;, SH._sys_filt_end_date), SH._sys_ssr_id -- group by account\n) as SH_by_account -- first agg\n) as SH_w_ranking -- second agg w/ ranking agg\nGROUP BY date_part(&#39;year&#39;, _sys_filt_end_date)\nORDER BY date_part(&#39;year&#39;, _sys_filt_end_date) DESC;",id:"example-sqlselectdate_partyear-_sys_filt_end_date-as-year----get-the-yearsumopp_won_amt-as-sum_sales----get-the-sum-of-salescountdistinct-_sys_ssr_id-as-customer_count----get--of-buying-customersavgopp_won_amt-as-avg_sale_per_customer----get-avg-rev-per-accountmaxopp_won_amt-as-biggest_customer_amt----get-size-of-biggest-accountcountdistinct-case-when-cumul_by_cust_size--total_won--08-then-_sys_ssr_id-end-aseighty_pct_revenue_customer_count----include-all-up-to-80-of-rev-to-get-pareto-numbercountdistinct-case-when-cumul_by_cust_size--total_won--08-then-_sys_ssr_id-end-castcountdistinct-_sys_ssr_id-as-decimal-as-eighty_pct_revenue_customer_percentage----percentage-ofpareto-numberfrom----second-agg-to-do-the-rankingsselect_sys_filt_end_date----get-the-date_sys_ssr_idopp_won_amtrow_number-over-partition-by-date_partyear-_sys_filt_end_date-order-by-_sys_filt_end_date-assale_num----get-the-number-of-the-account-based-on-purchase-datesumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-order-by-_sys_filt_end_dateas-cumul_amt_won----add-up-sales-for-cumulative-total-based-on-datesumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-as-total_won----get-thetotal-won-in-the-grouping-yearrow_number-over-partition-by-date_partyear-_sys_filt_end_date-order-by-opp_won_amt-desc-ascust_size_rank----get-the-rank-per-year-w-1-being-the-biggest-customersumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-order-by-opp_won_amt-desc-ascumul_by_cust_size----get-the-ordering-by-sizefrom----first-aggregation-just-get-rev-per-year-and-accountselectmax_sys_filt_end_date-as-_sys_filt_end_date----get-the-highest-date-for-a-purchase-of-that-account_sys_ssr_id----get-the-unique-accountsumshopp_won_amt-as-opp_won_amt----sum-up-all-purchases-of-that-accountfrom-ssr_history-shwhere-shopp_won_amt--0----only-care-about-clients-that-boughtand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof-5----go-back-5-yearsand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof----exclude-currentpartial-yeargroup-by-date_partyear-sh_sys_filt_end_date-sh_sys_ssr_id----group-by-account-as-sh_by_account----first-agg-as-sh_w_ranking----second-agg-w-ranking-agggroup-by-date_partyear-_sys_filt_end_dateorder-by-date_partyear-_sys_filt_end_date-desc",level:2},{value:"VI #1: Lead Generation by Quarter broken down by Creator Dept and Quality (V.1.2)\nPurpose of Analysis\nTo build new logo pipeline, you need to generate good new leads (or accounts if you use an Account Based approach). Those\ncan be either inbound or outbound leads in di ff erent industries and locations. The reps should then follow up and attempt to\nconvert those leads into opportunities (some companies call this Sales Quali fi ed Leads \u2013 SQL).\nThe most common rep complaint is that the leads are not of good quality, and that marketing is not delivering enough lead\ngeneration value. That can easily be determined with this analysis.\nCommon Challenges and How to Accomplish with the Cien API\nThe challenge to determine lead value comes down to having accurate prediction of the propensity of a speci fi c lead to convert.\nTo do so depends on a lot of factors and is usually not available in the CRM data. Sometimes the company does employ a lead\nscoring algorithm, but unless there is transparency in how the scoring works, it is often just a rough guide to which leads are\nthe most likely to convert. As with other areas, duplicates of leads and accounts will often cause confusing results, unless\nrecti fi ed prior to analysis.\nUnlike most other analyses, we are using the hat_leads entity here instead of the ssr_history, since it combines the fi rst three\nstandardized steps in the sales process (lead gen, untouched and prospecting), hence making the queries easier to understand.\nWe then join with the users entity to understand who created the lead so we can compare outcomes.",id:"vi-1-lead-generation-by-quarter-broken-down-by-creator-dept-and-quality-v12purpose-of-analysisto-build-new-logo-pipeline-you-need-to-generate-good-new-leads-or-accounts-if-you-use-an-account-based-approach-thosecan-be-either-inbound-or-outbound-leads-in-di-ff-erent-industries-and-locations-the-reps-should-then-follow-up-and-attempt-toconvert-those-leads-into-opportunities-some-companies-call-this-sales-quali-fi-ed-leads--sqlthe-most-common-rep-complaint-is-that-the-leads-are-not-of-good-quality-and-that-marketing-is-not-delivering-enough-leadgeneration-value-that-can-easily-be-determined-with-this-analysiscommon-challenges-and-how-to-accomplish-with-the-cien-apithe-challenge-to-determine-lead-value-comes-down-to-having-accurate-prediction-of-the-propensity-of-a-speci-fi-c-lead-to-convertto-do-so-depends-on-a-lot-of-factors-and-is-usually-not-available-in-the-crm-data-sometimes-the-company-does-employ-a-leadscoring-algorithm-but-unless-there-is-transparency-in-how-the-scoring-works-it-is-often-just-a-rough-guide-to-which-leads-arethe-most-likely-to-convert-as-with-other-areas-duplicates-of-leads-and-accounts-will-often-cause-confusing-results-unlessrecti-fi-ed-prior-to-analysisunlike-most-other-analyses-we-are-using-the-hat_leads-entity-here-instead-of-the-ssr_history-since-it-combines-the-fi-rst-threestandardized-steps-in-the-sales-process-lead-gen-untouched-and-prospecting-hence-making-the-queries-easier-to-understandwe-then-join-with-the-users-entity-to-understand-who-created-the-lead-so-we-can-compare-outcomes",level:2},{value:"Example SQL\nCAST(date_part(&#39;year&#39;, HL._sys_filt_start_date) as VARCHAR) || &#39;-0&#39; || CAST(date_part(&#39;quarter&#39;,\nHL._sys_filt_start_date) as varchar) as year_qtr, -- the year and quarter\nCount(HL._sys_doc_id) as lead_gen_count, -- how many leads were generated\nCOUNT(CASE WHEN HL.trueai_first_touch is not null THEN HL._sys_doc_id END ) as touched_count, -- how many\nof those were touched\nCOUNT(CASE WHEN HL.trueai_converted_date is not null THEN HL._sys_doc_id END ) as converted_count, -- how\nmany were converted into opps?\nAVG(HL.trueai_probability_of_conversion) as prob_conversion, -- what was the avg prediction probability of\nconversion of all?\nAVG(CASE WHEN HL.trueai_first_touch is not null THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_of_touched, -- what was the prediction probaility of conversion on the ones that were\nactially touched\nCOUNT(CASE WHEN U.trueai_user_role_dept = &#39;MKT&#39; THEN HL._sys_doc_id END) as lead_count_mktng_gen, -- how\nmany were generated by the Marketing Dept?\nCOUNT(CASE WHEN U.trueai_user_role_dept = &#39;SALES&#39; THEN HL._sys_doc_id END) as lead_count_sales_gen, -- how\nmany were generated by the Sales Dept?\nAVG(CASE WHEN U.trueai_user_role_dept = &#39;MKT&#39; THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_mktng_gen, -- what was the avg. predicted prob of the marketing leads\nAVG(CASE WHEN U.trueai_user_role_dept = &#39;SALES&#39; THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_sales_gen, -- what was the avg predictied prob of the sales lead?\nSUM(HL.trueai_vi_leadgen_value) as vi_lead_gen_value -- what was the value intelligence lead value for the\nleads in the quarter?\nFROM hat_leads AS HL -- use hat_leads instead of SSR to look at the prospecting in a single row\n(ssr_history has 3 steps)\nINNER JOIN users AS U -- link in users to understand creator role\nON HL.trueai_creator_id = U._sys_doc_id -- always _sys_doc_id is PK\nWHERE date_part(&#39;year&#39;, HL._sys_filt_start_date) &gt; date_part(&#39;year&#39;, HL._sys_asof) - 2 -- look back 1 year\nAND date_part(&#39;year&#39;, HL._sys_filt_start_date) &lt;&gt; date_part(&#39;year&#39;, HL._sys_asof) -- do not include\ncurrent partial year\nGROUP BY date_part(&#39;year&#39;, HL._sys_filt_start_date), date_part(&#39;quarter&#39;, HL._sys_filt_start_date) -- group\nby year and quarter\nORDER BY 1 DESC; -- most recent first",id:"example-sqlcastdate_partyear-hl_sys_filt_start_date-as-varchar---0--castdate_partquarterhl_sys_filt_start_date-as-varchar-as-year_qtr----the-year-and-quartercounthl_sys_doc_id-as-lead_gen_count----how-many-leads-were-generatedcountcase-when-hltrueai_first_touch-is-not-null-then-hl_sys_doc_id-end--as-touched_count----how-manyof-those-were-touchedcountcase-when-hltrueai_converted_date-is-not-null-then-hl_sys_doc_id-end--as-converted_count----howmany-were-converted-into-oppsavghltrueai_probability_of_conversion-as-prob_conversion----what-was-the-avg-prediction-probability-ofconversion-of-allavgcase-when-hltrueai_first_touch-is-not-null-then-hltrueai_probability_of_conversion-end-asprob_conversion_of_touched----what-was-the-prediction-probaility-of-conversion-on-the-ones-that-wereactially-touchedcountcase-when-utrueai_user_role_dept--mkt-then-hl_sys_doc_id-end-as-lead_count_mktng_gen----howmany-were-generated-by-the-marketing-deptcountcase-when-utrueai_user_role_dept--sales-then-hl_sys_doc_id-end-as-lead_count_sales_gen----howmany-were-generated-by-the-sales-deptavgcase-when-utrueai_user_role_dept--mkt-then-hltrueai_probability_of_conversion-end-asprob_conversion_mktng_gen----what-was-the-avg-predicted-prob-of-the-marketing-leadsavgcase-when-utrueai_user_role_dept--sales-then-hltrueai_probability_of_conversion-end-asprob_conversion_sales_gen----what-was-the-avg-predictied-prob-of-the-sales-leadsumhltrueai_vi_leadgen_value-as-vi_lead_gen_value----what-was-the-value-intelligence-lead-value-for-theleads-in-the-quarterfrom-hat_leads-as-hl----use-hat_leads-instead-of-ssr-to-look-at-the-prospecting-in-a-single-rowssr_history-has-3-stepsinner-join-users-as-u----link-in-users-to-understand-creator-roleon-hltrueai_creator_id--u_sys_doc_id----always-_sys_doc_id-is-pkwhere-date_partyear-hl_sys_filt_start_date--date_partyear-hl_sys_asof---2----look-back-1-yearand-date_partyear-hl_sys_filt_start_date--date_partyear-hl_sys_asof----do-not-includecurrent-partial-yeargroup-by-date_partyear-hl_sys_filt_start_date-date_partquarter-hl_sys_filt_start_date----groupby-year-and-quarterorder-by-1-desc----most-recent-first",level:2},{value:"CI #1: Rep Hiring &amp; Termination Analysis (V.1.2)\nPurpose of Analysis\nJust like you need to understand gained and lost accounts, you need to understand how the size of the sales team has\nchanged over time and the makeup of the roles of the team.\nCommon Challenges and How to Accomplish with the Cien API\nUnless you have access to accurate historical HR records, building this type of analysis from just CRM data can be di ffi cult\nsince the typical CRM database typically has hundreds or thousands of users that are not directly part of the sales team.\nThe challenges are to determine what roles users have, if they are managers or individual contributors and if they are still\nworking or have been terminated (but perhaps not yet set to inactive). Cien does that automatically, and also has an Admin\ntool that lets you override the role, group and manager classi fi cation manually. That way you know you have the correct\nbase data for all other performance analysis (because it would not make a lot of sense to compare junior SDR with a Senior\nEnterprise rep for example).\nThis data resides in the users entity, which then gets copied over to the users_history table, so it can be tracked over time.\nAs with most other entities, this data gets retroactively populated for multiple years upon initial processing of a CRM\ndataset.\nThe key fi elds are the trueai_user_role (a set of 15 speci fi c CRM user roles), trueai_user_role_function\n(consolidated into higher level functions such as AE, AM, SDR etc.) and trueai_termination_date (which looks for\nmultiple signals that a user is terminated \u2013 e.g. no logins or no activities in addition to the active fl ag).",id:"ci-1-rep-hiring--termination-analysis-v12purpose-of-analysisjust-like-you-need-to-understand-gained-and-lost-accounts-you-need-to-understand-how-the-size-of-the-sales-team-haschanged-over-time-and-the-makeup-of-the-roles-of-the-teamcommon-challenges-and-how-to-accomplish-with-the-cien-apiunless-you-have-access-to-accurate-historical-hr-records-building-this-type-of-analysis-from-just-crm-data-can-be-di-ffi-cultsince-the-typical-crm-database-typically-has-hundreds-or-thousands-of-users-that-are-not-directly-part-of-the-sales-teamthe-challenges-are-to-determine-what-roles-users-have-if-they-are-managers-or-individual-contributors-and-if-they-are-stillworking-or-have-been-terminated-but-perhaps-not-yet-set-to-inactive-cien-does-that-automatically-and-also-has-an-admintool-that-lets-you-override-the-role-group-and-manager-classi-fi-cation-manually-that-way-you-know-you-have-the-correctbase-data-for-all-other-performance-analysis-because-it-would-not-make-a-lot-of-sense-to-compare-junior-sdr-with-a-seniorenterprise-rep-for-examplethis-data-resides-in-the-users-entity-which-then-gets-copied-over-to-the-users_history-table-so-it-can-be-tracked-over-timeas-with-most-other-entities-this-data-gets-retroactively-populated-for-multiple-years-upon-initial-processing-of-a-crmdatasetthe-key-fi-elds-are-the-trueai_user_role-a-set-of-15-speci-fi-c-crm-user-roles-trueai_user_role_functionconsolidated-into-higher-level-functions-such-as-ae-am-sdr-etc-and-trueai_termination_date-which-looks-formultiple-signals-that-a-user-is-terminated--eg-no-logins-or-no-activities-in-addition-to-the-active-fl-ag",level:2},{value:"COUNT(DISTINCT CASE WHEN U.trueai_user_role_function = &#39;OTHER&#39; AND date_part(&#39;year&#39;, U.trueai_hire_date)\n&lt;= Y.year AND date_part(&#39;year&#39;, COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) &gt; Y.Year\nTHEN U._sys_doc_id END) as other_count_eoy,-- others (e.g. sales engineers) at end of year (use\nuser_role_function field instead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN date_part(&#39;year&#39;, U.trueai_hire_date) &lt;= Y.year AND date_part(&#39;year&#39;,\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) &gt; Y.Year THEN U._sys_doc_id END) /\nCAST(COUNT(DISTINCT CASE WHEN U.trueai_user_role_function = &#39;MGMT&#39; AND date_part(&#39;year&#39;,\nU.trueai_hire_date) &lt;= Y.year AND date_part(&#39;year&#39;, COALESCE(U.trueai_termination_date, make_date(2100,\n1,1))) &gt; Y.Year THEN U._sys_doc_id END) as decimal) as rep_mgr_ratio_eoy\nFROM users as U -- get the user info\nCROSS JOIN (\nSELECT 2021 as year UNION\nSELECT 2020 as year UNION\nSELECT 2019 as year UNION\nSELECT 2018 as year UNION\nSELECT 2017 as year\n) as Y -- create a pseudo year table to cross reference against\nWHERE U.trueai_user_role_dept = &#39;SALES&#39; -- only the sales users\nGROUP BY Y.year -- group by year\nORDER BY 1 DESC; -- most recent data",id:"countdistinct-case-when-utrueai_user_role_function--other-and-date_partyear-utrueai_hire_date-yyear-and-date_partyear-coalesceutrueai_termination_date-make_date2100-11--yyearthen-u_sys_doc_id-end-as-other_count_eoy---others-eg-sales-engineers-at-end-of-year-useuser_role_function-field-instead-of-user_role-to-simplify-querycountdistinct-case-when-date_partyear-utrueai_hire_date--yyear-and-date_partyearcoalesceutrueai_termination_date-make_date2100-11--yyear-then-u_sys_doc_id-end-castcountdistinct-case-when-utrueai_user_role_function--mgmt-and-date_partyearutrueai_hire_date--yyear-and-date_partyear-coalesceutrueai_termination_date-make_date210011--yyear-then-u_sys_doc_id-end-as-decimal-as-rep_mgr_ratio_eoyfrom-users-as-u----get-the-user-infocross-join-select-2021-as-year-unionselect-2020-as-year-unionselect-2019-as-year-unionselect-2018-as-year-unionselect-2017-as-year-as-y----create-a-pseudo-year-table-to-cross-reference-againstwhere-utrueai_user_role_dept--sales----only-the-sales-usersgroup-by-yyear----group-by-yearorder-by-1-desc----most-recent-data",level:2},{value:"CI #2: Time to Lead (V.1.2)\nPurpose of Analysis\nIt is well known that there is a bene fi t to responding quickly to inbound leads. However, there may be doubts about how\ncritical response time is in a speci fi c organization and how good the reps are on average to respond to inbound leads. This\nanalysis makes it easy to answer those questions.\nCommon Challenges and How to Accomplish with the Cien API\nTo determine lead conversion (into a sales quali fi ed lead), you fi rst need to have a set of clean lead records. Using the CRM\nleads entity will often trick you, since the conversion may not be recorded correctly, and there might be multiple leads per\naccount, skewing the results downwards. We recommend that you use the derived hat_leads entity instead, which solves\nthat problem. Secondly, it\u2019s important to understand which of the leads are inbound. Cien makes that easy by creating a\ntrueai_leadsource_is_inbound fi eld. And lastly, you need to look at activity and conversion patterns to determine\nwhen a lead was actually touched. The trueai_first_touch fi eld gives you that information.",id:"ci-2-time-to-lead-v12purpose-of-analysisit-is-well-known-that-there-is-a-bene-fi-t-to-responding-quickly-to-inbound-leads-however-there-may-be-doubts-about-howcritical-response-time-is-in-a-speci-fi-c-organization-and-how-good-the-reps-are-on-average-to-respond-to-inbound-leads-thisanalysis-makes-it-easy-to-answer-those-questionscommon-challenges-and-how-to-accomplish-with-the-cien-apito-determine-lead-conversion-into-a-sales-quali-fi-ed-lead-you-fi-rst-need-to-have-a-set-of-clean-lead-records-using-the-crmleads-entity-will-often-trick-you-since-the-conversion-may-not-be-recorded-correctly-and-there-might-be-multiple-leads-peraccount-skewing-the-results-downwards-we-recommend-that-you-use-the-derived-hat_leads-entity-instead-which-solvesthat-problem-secondly-its-important-to-understand-which-of-the-leads-are-inbound-cien-makes-that-easy-by-creating-atrueai_leadsource_is_inbound-fi-eld-and-lastly-you-need-to-look-at-activity-and-conversion-patterns-to-determinewhen-a-lead-was-actually-touched-the-trueai_first_touch-fi-eld-gives-you-that-information",level:2},{value:"Example SQL\nSELECT\nCASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 7 THEN &#39;Over a week&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 3 THEN &#39;Over three days&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 1 THEN &#39;Over one day&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 &gt; 6 THEN &#39;Over 6 hours&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 &gt; 1 THEN &#39;Over 1 hour&#39;\nELSE &#39;Within Minutes&#39; END as time_to_touch_bucket, -- derived bucket\nAVG(CAST( HL.trueai_first_touch - HL.trueai_createdon as float) ) * 24 as avg_hours, -- time in hours\ncount(HL.trueai_first_touch) as touched_leads, -- total touched leads\nAVG(HL.trueai_probability_of_conversion) as pred_conversion_rate, -- the expected prediction rate\n(gives you the overall quality but will not match the outcome rate because of the filters)\ncount(HL.trueai_converted_date) as converted,\n(count(HL.trueai_converted_date) / CAST(COUNT(trueai_first_touch) as float)) as actual_conversion_rate\nFROM hat_leads HL -- use hat_leads since those have been consolidated if there were multiple leads\nand/or accounts from a single company\nWHERE HL._sys_filt_end_date BETWEEN HL._sys_asof - 180 AND HL._sys_asof - 90 -- let&#39;s only look at the\nlast 90 days\nAND HL.trueai_leadsource_is_inbound = &#39;true&#39; -- we&#39;re only interested in inbound leads coming to us\nAND CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &lt; 21 -- there are leads that are not\ntouched for over 3 weeks - let&#39;s exclude those\nGROUP BY\nCASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 7 THEN &#39;Over a week&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 3 THEN &#39;Over three days&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) &gt; 1 THEN &#39;Over one day&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 &gt; 6 THEN &#39;Over 6 hours&#39;\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 &gt; 1 THEN &#39;Over 1 hour&#39;\nELSE &#39;Within Minutes&#39; END -- great a derived category field and group by it\nORDER BY avg_hours DESC; -- sort by slowest response first",id:"example-sqlselectcase-when-cast-hltrueai_first_touch---hltrueai_createdon-as-float--7-then-over-a-weekwhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--3-then-over-three-dayswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--1-then-over-one-daywhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--6-then-over-6-hourswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--1-then-over-1-hourelse-within-minutes-end-as-time_to_touch_bucket----derived-bucketavgcast-hltrueai_first_touch---hltrueai_createdon-as-float---24-as-avg_hours----time-in-hourscounthltrueai_first_touch-as-touched_leads----total-touched-leadsavghltrueai_probability_of_conversion-as-pred_conversion_rate----the-expected-prediction-rategives-you-the-overall-quality-but-will-not-match-the-outcome-rate-because-of-the-filterscounthltrueai_converted_date-as-convertedcounthltrueai_converted_date--castcounttrueai_first_touch-as-float-as-actual_conversion_ratefrom-hat_leads-hl----use-hat_leads-since-those-have-been-consolidated-if-there-were-multiple-leadsandor-accounts-from-a-single-companywhere-hl_sys_filt_end_date-between-hl_sys_asof---180-and-hl_sys_asof---90----lets-only-look-at-thelast-90-daysand-hltrueai_leadsource_is_inbound--true----were-only-interested-in-inbound-leads-coming-to-usand-cast-hltrueai_first_touch---hltrueai_createdon-as-float--21----there-are-leads-that-are-nottouched-for-over-3-weeks---lets-exclude-thosegroup-bycase-when-cast-hltrueai_first_touch---hltrueai_createdon-as-float--7-then-over-a-weekwhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--3-then-over-three-dayswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--1-then-over-one-daywhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--6-then-over-6-hourswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--1-then-over-1-hourelse-within-minutes-end----great-a-derived-category-field-and-group-by-itorder-by-avg_hours-desc----sort-by-slowest-response-first",level:2}];function d(e){const t={a:"a",em:"em",h2:"h2",hr:"hr",p:"p",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["CIEN\u2019S API\nOverview\nWhat is the Cien.ai API?\nThe Cien API allows developers to access the underlying data from Cien\u2019s TrueAI platform, built to enable sales and marketing\ntechnology applications and analytics in\ncompletely new ways.\nThe TrueAI Platform\nCien\u2019s TrueAI platform enhances CRM data and\nprovides transparency on the underpinnings and\naccuracy of its calculations. The API is able to\nprovide insights regardless of your company\u2019s\nCRM data quality. Duplicate data is fl agged.\nNatural Language Processing (NLP) models deal with inconsistent data. Incomplete data is enhanced from internal and external\nsources. We measure the accuracy of a customer\u2019s CRM data and provide enhancements and annotations for superior analytics.\nAPI Speci fi cation\nUpon proper initialization of the API you will get cloud access to the data in the form\nof a zip fi le containing csv fi les with the below entities. These fi les can then be manlluy\nor automatically imported as per your requirements; into data warehouses, and/or to\nBI tools for integration into your analytic reports. Scripts for SQL Server, PostgresSQL,\nSnow fl ake & Spark are included.\nUpon request, there is a reference implementation on how Cien\u2019s API can be used in\nthe form of Cien\u2019s TrueAI GTM Suite created in Power BI for . This can help you get\nstarted with your advanced GTM analytics project.\nSupport\nIf you have any questions, please reach out to our technical developer support:\n",(0,n.jsx)(t.a,{href:"mailto:api@cien.ai",children:"api@cien.ai"}),".\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 2"]}),"\n",(0,n.jsxs)(t.p,{children:["API EXAMPLES\nTo get you started and familiarize yourself with the Cien API, and the power of the TrueAI platform, we have created the\nfollowing API examples written in PostgresSQL. These examples cover di ff erent aspects of the platform such as data cleaning\n(ADE), rep performance (CI) and deal analysis (DI). By running through the examples on your dataset you will both get a quick\nunderstanding of the company\u2019s GTM performance and also familiarize yourself with how to use the very powerful derived\nssr_history and users_history entities. Almost all common GTM questions can be answered with those. And in many cases\nyou can simply change a grouping or condition to answer the speci fi c question you fi nd most pressing right now.\nAs always, we are eager for your feedback. If you have suggestions for other examples or need help changing a question, feel\nfree to contact our API support team: ",(0,n.jsx)(t.a,{href:"mailto:api@cien.ai",children:"api@cien.ai"}),".\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 3"]}),"\n",(0,n.jsx)(t.p,{children:"^ Top\nAutomatic Data Enhancement (ADE)\nTransparency on the Data Cleanup Process\nBefore you start using the new derived entities it makes sense to understand the quality of the underlying data, and how it has\nbeen enhanced by the TrueAI platform. The following examples illustrate some of the ways in how this can be done.\nADE #1: Lead Duplication\nADE #2: Lead & Account Completeness\nADE #3: Consistency & Con fi dence of Lead Source Consolidation\nADE #4: Sales Process Steps in a Year Summary\nADE #5: CRM Activity Compliance by Group & Role\nADE #6: AI Prediction Quality\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 4"}),"\n",(0,n.jsx)(t.h2,{id:"-topade-1-lead-duplication-v12purpose-of-analysisduplicate-leads-cause-multiple-challenges-for-example-reps-are-not-sure-if-they-have-properly-followed-up-on-an-accountand-analysis-of-lead-conversion-gets-very-complicatedcommon-challenges-and-how-to-accomplish-with-the-cien-apito-determine-duplicate-leads-just-looking-for-the-exact-same-information-in-multiple-records-will-not-usually-fi-nd-manydupes-some-duplicate-records-may-have-di-ff-erent-email-addresses-andor-alternate-spellings-of-names-mike-vs-michaeletc-the-trueai-platform-uses-a-fuzzy-match-that-generates-a-duplicate-con-fi-dence-and-only-marks-the-records-that-areabove-that-con-fi-dence-threshold-as-duplicatesmultiple-leads-and-accounts-can-often-make-prospecting-analysis-hard-to-solve-this-problem-the-trueai-platform-hascreated-a-derived-entity-called-hat_leads-the-name-comes-from-the-fact-that-a-logical-lead-can-wear-di-ff-erent-hats-asan-account-one-lead-or-multiple-leads-if-you-want-to-analyze-lead-related-data-we-recommend-that-you-use-that-entity-inthis-case-we-are-using-the-lead-entity-to-illustrate-the-issue-in-your-database",children:"^ Top\nADE #1: Lead Duplication (V.1.2)\nPurpose of Analysis\nDuplicate leads cause multiple challenges; for example, reps are not sure if they have properly followed up on an account,\nand analysis of lead conversion gets very complicated.\nCommon Challenges and How to Accomplish with the Cien API\nTo determine duplicate leads, just looking for the exact same information in multiple records will not usually fi nd many\ndupes. Some duplicate records may have di ff erent email addresses, and/or alternate spellings of names (Mike vs. Michael\netc.). The TrueAI platform uses a \u201cfuzzy\u201d match that generates a duplicate con fi dence, and only marks the records that are\nabove that con fi dence threshold as duplicates.\nMultiple leads and accounts can often make prospecting analysis hard. To solve this problem, the TrueAI platform has\ncreated a derived entity called hat_leads (The name comes from the fact that a \u201clogical lead\u201d can wear di ff erent \u201chats\u201d; as\nan account, one lead or multiple leads). If you want to analyze lead-related data, we recommend that you use that entity. In\nthis case we are using the lead entity to illustrate the issue in your database."}),"\n",(0,n.jsxs)(t.h2,{id:"example-sqlselectutrueai_group-utrueai_user_role_dept----group-fieldscount-as-lead_count----total-leadscounttrueai_lead_dupe_id-as-dupe_records----total-duplicated-recordscountdistinct-trueai_lead_dupe_id-as-unique_dupe_records----total-duplicated-recordscounttrueai_lead_dupe_id--castcount-as-float-as-dupe_ratiocountcase-when-trueai_is_master--true-then-trueai_is_master-end--as-master_records----the-masterrecordcounttrueai_company_dupe_id-as-company_dupe_records----also-check-how-many-leads-belong-to-the-samecompanycounttrueai_company_dupe_id--castcount-as-float-as-company_dupe_ratio----calculate-that-ratiofrom-leads-as-l----use-leadsleft-join-users-as-u----left-join-to-users-to-get-user-infoon-ltrueai_creator_id--u_sys_doc_id----use-creator-id-to-determine-who-created-the-dupe-recordgroup-by-utrueai_group-trueai_user_role_dept----group-fields-group--deptorder-by-dupe_records-desc----sort-by-the-most-dupes",children:["Example SQL\nSELECT\nu.trueai_group, u.trueai_user_role_dept, -- group fields\nCount(",(0,n.jsx)(t.em,{children:") as lead_count, -- total leads\nCount(trueai_lead_dupe_id) as dupe_records, -- total duplicated records\nCount(DISTINCT trueai_lead_dupe_id) as unique_dupe_records, -- total duplicated records\nCount(trueai_lead_dupe_id) / CAST(Count("}),") as float) as dupe_ratio,\nCount(CASE WHEN trueai_is_master = 'true' THEN trueai_is_master END ) as master_records, -- the master\nrecord\nCount(trueai_company_dupe_id) as company_dupe_records, -- also check how many leads belong to the same\ncompany\nCount(trueai_company_dupe_id) / CAST(Count(*) as float) as company_dupe_ratio -- calculate that ratio\nFROM leads AS l -- use leads\nLEFT JOIN users AS u -- left join to users to get user info\nON l.trueai_creator_id = u._sys_doc_id -- use creator id to determine who created the dupe record\nGROUP BY u.trueai_group, trueai_user_role_dept -- group fields (group & dept)\nORDER BY dupe_records DESC; -- sort by the most dupes"]}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case there is not a lot of duplication of actual leads, but many leads belong to the same company, and would be\nconsolidated in the hat_leads entity.\ntrueai_group trueai_user_role_level lead_count dupe_records unique_dupe_records dupe_ratio master_records company_dupe_records company_dupe_ratio\nND MKT 35,657 12 9 0.03% 35648 3306 9%\nND ND 17 0 0 0.00% 17 3 18%\nEnterprise SALES 7 0 0 0.00% 7 2 29%\nSMB SALES 14 0 0 0.00% 14 4 29%\nND SALES 736 0 0 0.00% 736 93 13%\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 5"}),"\n",(0,n.jsx)(t.h2,{id:"ade-2-lead--account-completenesspurpose-of-analysisincomplete-data-is-one-of-the-most-common-data-quality-problems-which-causes-issues-both-for-reps-who-need-to-spendtime-looking-for-contact-info-and-for-any-analysis-that-relies-on-complete-data-such-as-lead-source-or-locationcommon-challenges-and-how-to-accomplish-with-the-cien-apiyou-cannot-address-incomplete-data-without-knowing-whats-missing-thetrueai-platform-makes-this-easy-since-the-basecrm-entities--leads--accounts--contacts--opps--has-a-crm_completeness-fi-eld-for-each-record-scoring-the-recordbetween-0-no-meaningful-data-to-1-all-needed-data-is-populated-the-score-is-broken-down-into-subcomponents-contactgeo-location--marketing-to-see-exactly-where-problems-are-located-the-platform-then-uses-internal-and-external-lookupsto-populate-the-corresponding-trueai-fi-eld-and-calculates-the-improved-score",children:"ADE #2: Lead & Account Completeness\nPurpose of Analysis\nIncomplete data is one of the most common data quality problems, which causes issues both for reps who need to spend\ntime looking for contact info, and for any analysis that relies on complete data such as lead source or location.\nCommon Challenges and How to Accomplish with the Cien API\nYou cannot address incomplete data without knowing what\u2019s missing. TheTrueAI platform makes this easy since the base\nCRM entities ( leads , accounts , contacts & opps ) has a crm_completeness fi eld for each record, scoring the record\nbetween 0 (no meaningful data) to 1 (all needed data is populated). The score is broken down into subcomponents (contact,\ngeo, location & marketing) to see exactly where problems are located. The platform then uses internal and external lookups\nto populate the corresponding TrueAI fi eld, and calculates the improved score."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectaeentity----get-the-entity-since-it-is-a-unionutrueai_user_role_dept-as-creator_dept----which-dept-created-the-recordcount-as-record_count----countavgaecrm_complt-as-avg_crm_complt_score----the-overall-score-of-the-raw-crm-dataavgaecrm_complt_contact-as-avg_crm_complt_score_contact----the-contact-info-only-scoreavgaecrm_complt_contact_method-as-avg_crm_complt_score_contact_method----how-much-of-email-phoneetc-is-populatedavgaecrm_complt_geo-as-avg_crm_complt_score_geo----the-location-info-scoreavgaecrm_complt_marketing-as-avg_crm_completness_score_marketing----the-marketing-info-like-leadsource-industry-etcavgaetrueai_complt-as-avg_trueai_completeness_score----the-enhanced-completeness-scorefrom---create-union-of-multiple-tables-could-also-add-opps--contactsselect-leads-as-entity-crm_createdon-trueai_creator_id-crm_complt-crm_complt_contactcrm_complt_contact_method-crm_complt_geocrm_complt_marketingtrueai_complt-from-leads-as-lunionselect-accounts-as-entity-crm_createdon-trueai_creator_id-crm_complt-crm_complt_contactcrm_complt_contact_method-crm_complt_geocrm_complt_marketingtrueai_complt-from-accounts-as-aas-aeinner-join-users-as-u----link-in-userson-aetrueai_creator_id--u_sys_doc_id----look-up-the-doc-id-when-available-use-the-trueai-vs-the-crmfieldwhere-aecrm_createdon--u_sys_asof--90----get-in-the-last-90-days-since-last-data-refreshgroup-by-aeentity-utrueai_user_role_dept----group-by-entity-and-deptorder-by-12----sort-entities-together",children:"Example SQL\nSELECT\nAE.entity, -- get the entity since it is a union\nu.trueai_user_role_dept as creator_dept, -- which dept created the record\nCount(*) as record_count, -- count\nAVG(AE.crm_complt) AS avg_crm_complt_score, -- the overall score of the raw CRM data\nAVG(AE.crm_complt_contact) AS avg_crm_complt_score_contact, -- the contact info only score\nAVG(AE.crm_complt_contact_method) AS avg_crm_complt_score_contact_method, -- how much of email, phone\netc, is populated\nAVG(AE.crm_complt_geo) AS avg_crm_complt_score_geo, -- the location info score\nAVG(AE.crm_complt_marketing) AS avg_crm_completness_score_marketing, -- the marketing info like lead\nsource, industry etc\nAVG(AE.trueai_complt) AS avg_trueai_completeness_score -- the enhanced completeness score\nFROM\n-- create union of multiple tables (could also add opps & contacts)\n(SELECT 'leads' as entity, crm_createdon, trueai_creator_id, crm_complt, crm_complt_contact,\ncrm_complt_contact_method, crm_complt_geo,crm_complt_marketing,trueai_complt FROM leads AS L\nUNION\nSELECT 'accounts' as entity, crm_createdon, trueai_creator_id, crm_complt, crm_complt_contact,\ncrm_complt_contact_method, crm_complt_geo,crm_complt_marketing,trueai_complt FROM accounts AS A\n)\nas AE\nINNER JOIN users AS u -- link in users\nON AE.trueai_creator_id = U._sys_doc_id -- look up the doc id (when available, use the trueai vs. the CRM\nfield)\nWHERE AE.crm_createdon > U._sys_asof -90 -- get in the last 90 days since last data refresh\nGROUP BY AE.entity, U.trueai_user_role_dept -- group by entity and dept\nORDER BY 1,2; -- sort entities together"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case the avg. completeness scores are reasonable, with the biggest issue being that a lot of accounts records added\nby the OPS team are missing emails and phone numbers.\nentity creator_d\nept\nrecord_\ncount\navg_crm_complet\neness_score\navg_crm_completene\nss_score_contact\navg_crm_completeness_\nscore_contact_method\navg_crm_complet\neness_score_geo\navg_crm_completness\n_score_marketing\navg_trueai_compl\neteness_score\naccounts MKT 3,384 0.57 1.00 0.74 0.51 0.58 0.63\naccounts ND 53 0.50 1.00 0.43 0.82 0.55 0.56\naccounts OPS 1,124 0.34 1.00 0.06 0.97 0.66 0.34\naccounts OTHER 10 0.73 1.00 0.75 0.90 0.63 0.77\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 6"}),"\n",(0,n.jsx)(t.p,{children:"accounts SALES 537 0.49 1.00 0.44 0.76 0.53 0.54\nleads MKT 1,096 0.38 0.93 0.60 0.25 0.48 0.41\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 7"}),"\n",(0,n.jsx)(t.h2,{id:"ade-3-consistency--con-fi-dence-of-lead-source-consolidation-v12purpose-of-analysisas-data-is-added-over-multiple-years-de-fi-nitions-that-originally-were-consistent-and-clear-tend-to-become-more-inconsistentthis-makes-any-analysis-very-di-ffi-cult-since-its-relying-on-clean-categoriescommon-challenges-and-how-to-accomplish-with-the-cien-apithe-traditional-way-to-get-data-that-can-be-analyzed-is-to-manually-clean-it-up-through-search-and-replace-processes-thoseprocesses-are-time-consuming-and-error-prone-and-have-to-be-repeated-for-each-new-analysis-since-new-data-iscontinuously-addedacross-multiple-entities-there-are-fi-elds-such-as-crm_industry--crm_leadsource--crm_title-etc-that-the-platformconsolidates-and-standardizes-it-uses-pre-trained-models-which-have-been-created-to-be-as-broadly-applicable-as-possibletypically-these-models-are-very-good-at-taking-hundreds-of-di-ff-erent-entries-and-condensing-them-down-to-a-reasonablenumber-of-categories-which-can-then-be-used-for-analysis-and-ai-model-features-as-this-standardization-occurs-the-modelreports-a-con-fi-dence-value-for-each-entry-it-can-be-useful-to-look-at-those-con-fi-dence-values-to-see-if-there-were-any-valuesthat-the-model-struggled-with",children:"ADE #3: Consistency & Con fi dence of Lead Source Consolidation (V.1.2)\nPurpose of Analysis\nAs data is added over multiple years, de fi nitions that originally were consistent and clear tend to become more inconsistent.\nThis makes any analysis very di ffi cult, since it\u2019s relying on clean categories.\nCommon Challenges and How to Accomplish with the Cien API\nThe traditional way to get data that can be analyzed is to manually clean it up, through search and replace processes. Those\nprocesses are time-consuming and error prone, and have to be repeated for each new analysis, since new data is\ncontinuously added.\nAcross multiple entities, there are fi elds such as crm_industry , crm_leadsource & crm_title etc, that the platform\nconsolidates and standardizes. It uses pre-trained models which have been created to be as broadly applicable as possible.\nTypically, these models are very good at taking hundreds of di ff erent entries and condensing them down to a reasonable\nnumber of categories, which can then be used for analysis and AI model features. As this standardization occurs, the model\nreports a con fi dence value for each entry. It can be useful to look at those con fi dence values to see if there were any values\nthat the model struggled with."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselect----just-get-the-10-most-common-entriescrm_leadsource----whats-currently-in-the-dbcount-as-count----count-of-eachtrueai_leadsource----the-standardized-lead-sourceavgtrueai_leadsource_conf-as-trueai_leadsource_conf----the-avg-confidence-if-confidence-is-too-low-itwill-mark-the-record-as-ndfrom-leads-l----pull-from-leads-but-the-same-info-is-in-opps-accounts--contactswherecrm_leadsource-is-not-null----exclude-records-that-are-blank-they-may-still-be-populated-through-lookupsgroup-by-crm_leadsource-trueai_leadsource----group-fieldsorder-by-count-desc----sort-by-most-common-instances-in-the-dblimit-10",children:"Example SQL\nSELECT -- just get the 10 most common entries\ncrm_leadsource, -- what's currently in the db\ncount(*) as count, -- count of each\ntrueai_leadsource, -- the standardized lead source\navg(trueai_leadsource_conf) as trueai_leadsource_conf -- the avg. confidence. If confidence is too low, it\nwill mark the record as ND.\nFROM leads L -- pull from leads, but the same info is in opps, accounts & contacts\nWHERE\ncrm_leadsource is not null -- exclude records that are blank (they may still be populated through lookups,\nGROUP BY crm_leadsource, trueai_leadsource -- group fields\nOrder by count desc -- sort by most common instances in the db\nLIMIT 10;"}),"\n",(0,n.jsxs)(t.p,{children:["Sample Result\nThe con fi dence scores are high except for the fi rst one, but, nevertheless, it appears to use the right category. If you\nencounter a misclassi fi ed category, please send a note to ",(0,n.jsx)(t.a,{href:"mailto:api@cien.ai",children:"api@cien.ai"})," along with the suggested correct category. If the\nconsolidation is not appropriate for your needs (e.g., you need to keep track of di ff erent list providers and compare them\nagainst each other), you can still use the CRM version of the fi eld, or create a new derived fi eld that uses the standardized\nTrueAI values except in speci fi c circumstances.\ncrm_leadsource count trueai_leadsource trueai_leadsource_confidence\nZoom Info 75,999 List Upload 0.80356\nInternally Sourced 17,486 Rep Lead Gen 1.00000\nPurchased List 4,882 List Upload 1.00000\nWebsite Form 1,273 Website 0.99915\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 8"]}),"\n",(0,n.jsx)(t.p,{children:"ZoomInfo Prospecting 594 List Upload 0.99972\nPaid Social 447 Digital Ads 0.99999\nTradeshow 415 Event/Tradeshow 1.00000\nOrganic Search 172 SEO 0.99999\nSales Generated 172 Rep Lead Gen 1.00000\nWebsite Referral 151 Website 1.00000\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 9"}),"\n",(0,n.jsx)(t.h2,{id:"ade-4-sales-process-steps-in-a-year-summary-v12purpose-of-analysisthe-key-to-improve-sales-performance-is-to-be-able-to-isolate-where-in-the-sales-process-there-are-ine-ffi-ciencies-the-trueaiplatform-makes-this-very-easycommon-challenges-and-how-to-accomplish-with-the-cien-apito-understand-the-steps-of-a-customer-journey-you-typically-have-to-look-at-leads-accounts-contacts-opps-andopps_history--the-problem-is-that-each-company-uses-these-entities-slightly-di-ff-erently-and-the-de-fi-nitions-when-a-speci-fi-cstate-started-and-ended-are-often-unclear-and-inconsistent-the-trueai-platform-replaces-all-of-that-complexity-with-the-ssrand-ssr_history-derived-entities-which-can-give-you-a-complete-insight-into-the-di-ff-erent-steps-and-their-outcomes-aseach-new-step-is-detected-the-trueai-engine-also-makes-a-prediction-on-the-eventual-outcome-of-the-step-based-on-theknown-attributes-of-the-deal-at-that-point-company-information-such-as-location-industry-size-etc-and-the-level-ofengagement-etc-that-has-occurred-until-that-point-please-note-that-when-that-prediction-is-made-the-owner-of-the-currentstep-is-not-considered-ie-we-dont-look-at-whether-the-step-is-assigned-to-a-top-performer-or-a-junior-rep-thereforeoverall-over--and-underperformance-of-a-step-compared-to-peers-can-help-you-understand-a-reps-true-performance-on-aspeci-fi-c-sales-task-for-example-in-prospecting-which-tends-to-be-strongly-correlated-with-the-ability-to-do-customerdiscovery-well",children:"ADE #4: Sales Process Steps in a Year Summary (V.1.2)\nPurpose of Analysis\nThe key to improve sales performance is to be able to isolate where in the sales process there are ine ffi ciencies. The TrueAI\nplatform makes this very easy.\nCommon Challenges and How to Accomplish with the Cien API\nTo understand the steps of a customer journey you typically have to look at leads, accounts, contacts, opps and\nopps_history . The problem is that each company uses these entities slightly di ff erently and the de fi nitions when a speci fi c\nstate started and ended, are often unclear and inconsistent. The TrueAI platform replaces all of that complexity with the ssr\nand ssr_history derived entities, which can give you a complete insight into the di ff erent steps and their outcomes. As\neach new step is detected, the TrueAI engine also makes a prediction on the eventual outcome of the step, based on the\nknown attributes of the deal at that point (company information such as location, industry, size etc. and the level of\nengagement etc, that has occurred until that point). Please note that when that prediction is made, the owner of the current\nstep is not considered (i.e., we don\u2019t look at whether the step is assigned to a top performer or a junior rep). Therefore\noverall, over-, and underperformance of a step compared to peers can help you understand a rep\u2019s true performance on a\nspeci fi c sales task; for example in prospecting, which tends to be strongly correlated with the ability to do customer\ndiscovery well."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectshstep_id----the-logical-number-of-the-stepshstep_name----the-name-of-the-stepcountsh_sys_doc_id-as-steps_completed----how-many-were-attempted-and-completed-in-the-periodcountcase-when-shstep_success-true-then-sh_sys_doc_id-end-as-steps_succesful----how-many-of-thosesteps-were-successfulcountcase-when-shstep_success-true-then-sh_sys_doc_id-end--castcountsh_sys_doc_id-as-floatas-avg_success_rate----calculate-how-often-the-step-succeedsavgshstep_success_prob-as-pred_success_rate----compare-to-what-trueai-predictedavgcase-when-shstep_success-true-then-shstep_length_in_days-end-as-success_cycle_days----how-manydays-when-successfulavgcase-when-shstep_success-false-then-shstep_length_in_days-end-as-failure_cycle_days----howmany-days-when-not-successfulsumshopp_won_amt-as-won_amt----look-at-actual-revenue-for-each-stepsumshvi_value_created-as-value_created----look-at-value-created-as-calculated-by-the-valueintelligence-vi-techfrom-ssr_history-as-sh----use-the-ssr-history-to-understand-the-steps-the-gtm-team-has-completedinner-join-ssr-as-s----use-the-ssr-to-link-to-the-actual-customer-recordon-s_sys_doc_id--sh_sys_ssr_id----primary-key-is-always-_sys_doc_idwhere-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof--1----look-at-full-lastyear-of-data-date_part-year-in-other-sql-dialectsgroup-by-shstep_id-shstep_name----group-by-the-named-stepsorder-by-1----sort-by-the-logical-order-of-the-steps",children:"Example SQL\nSELECT\nSH.step_id, -- the logical number of the step\nSH.step_name, -- the name of the step\nCOUNT(SH._sys_doc_id) as steps_completed, -- how many were attempted and completed in the period\nCOUNT(CASE WHEN SH.step_success= 'true' THEN SH._sys_doc_id END) as steps_succesful, -- how many of those\nsteps were successful\nCOUNT(CASE WHEN SH.step_success= 'true' THEN SH._sys_doc_id END) / CAST(COUNT(SH._sys_doc_id) AS Float)\nas avg_success_rate, -- calculate how often the step succeeds\nAVG(SH.step_success_prob) as pred_success_rate, -- compare to what TrueAI predicted\nAVG(CASE WHEN SH.step_success= 'true' THEN SH.step_length_in_days END) as success_cycle_days, -- how many\ndays when successful\nAVG(CASE WHEN SH.step_success= 'false' THEN SH.step_length_in_days END) as failure_cycle_days, -- how\nmany days when not successful\nSUM(SH.opp_won_amt) as won_amt, -- look at actual revenue for each step\nSUM(SH.vi_value_created) as value_created -- look at value created as calculated by the Value\nIntelligence (VI) tech\nFROM ssr_history AS SH -- use the SSR history to understand the steps the GTM team has completed\nINNER JOIN ssr AS S -- use the SSR to link to the actual customer record\nON S._sys_doc_id = SH._sys_ssr_id -- primary key is always _sys_doc_id\nWHERE date_part('year', SH._sys_filt_end_date) = date_part('year', SH._sys_asof) -1 -- look at full last\nyear of data (date_part 'year' in other SQL dialects)\nGROUP BY SH.step_id, SH.step_name -- group by the named steps\nORDER BY 1; -- sort by the logical order of the steps"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nThere are 6 steps in the standardized sales process. The new logo success rate is slightly higher than the predicted rate,\nwhereas the upselling win rate is slightly lower. The value intelligence value creation values add up to slightly more than total\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 10"}),"\n",(0,n.jsx)(t.p,{children:"sale, to account for the repeat value of new accounts. As in almost all organizations, the e ff ort of selling an existing account is\nlower than in a new account.\nstep_\nid\nstep_name steps_attempted steps_succesful avg_success_\nrate\npred_success_\nrate\nsuccess_cycle_\ndays\nfailure_cycle_\ndays\nwon_amount value_created\n1 Lead Gen 80,960 80,960 100.0% 100.0% - $10,855,919\n2 Untouched 60,559 13,067 21.6% 22.9% 300 180 $ (4,254,271)\n3 Prospecting 14,252 1,156 8.1% 6.8% 240 214 $27,611,706\n4 New Logo Selling 2,128 332 15.6% 20.1% 165 266 $69,493,308 $42,949,610\n5 Post Sales Support 3,523 3,267 92.7% 77.8% 69 367 $66,606,031\n6 Upselling 3,284 2,513 66.1% 69.6% 102 165 $275,136,503 $252,658,162\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 11"}),"\n",(0,n.jsx)(t.h2,{id:"ade-5-crm-activity-compliance-by-group--role-v12purpose-of-analysisnon-compliance-of-the-crm-tools-is-a-common-problem-companies-invest-in-tools-to-automatically-capture-activities-etc-itis-important-to-understand-if-those-tools-are-being-used-e-ffi-ciently-once-you-know-what-activities-are-being-missed-you-canuse-this-information-to-estimate-e-ff-ort-spent-per-account-and-repcommon-challenges-and-how-to-accomplish-with-the-cien-apiusing-raw-activity-data-it-is-very-di-ffi-cult-to-determine-if-a-lot-of-it-is-missing-cien-looks-at-representative-reps-that-log-mostof-their-activities-and-use-those-to-estimate-the-amount-of-time-spent-per-sales-step-if-a-rep-in-general-logs-the-sameamount-of-activities-they-have-a-high-level-of-compliance-if-their-logged-activities-add-up-to-much-less-their-compliance-islow-as-with-most-trueai-attributes-the-con-fi-dence-values-are-very-useful-to-understand-the-quality-of-the-prediction",children:"ADE #5: CRM Activity Compliance by Group & Role (V.1.2)\nPurpose of Analysis\nNon-compliance of the CRM tools is a common problem. Companies invest in tools to automatically capture activities etc. It\nis important to understand if those tools are being used e ffi ciently. Once you know what activities are being missed, you can\nuse this information to estimate e ff ort spent per account and rep.\nCommon Challenges and How to Accomplish with the Cien API\nUsing raw activity data, it is very di ffi cult to determine if a lot of it is missing. Cien looks at representative reps that log most\nof their activities, and use those to estimate the amount of time spent per sales step. If a rep in general logs the same\namount of activities, they have a high level of compliance. If their logged activities add up to much less, their compliance is\nlow. As with most TrueAI attributes, the con fi dence values are very useful to understand the quality of the prediction."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectutrueai_group----the-name-of-the-groupcountdistinct-uh_sys_user_id-as-rep_count----total-number-of-reps-in-the-periodavguhci_act_capt_lvl-as-avg_act_capture_level----what--of-activities-do-we-estimate-are-actuallyloggedavguhci_act_capt_lvl_conf-as-avg_act_capture_level_confidence----what-is-the-confidence-in-thisassessmentcountdistinct-case-when-utrueai_user_role--account-executive-then-uh_sys_user_id-end-as-ae_count---how-many-of-the-reps-are-aesavg-case-when-utrueai_user_role--account-executive-then-uhci_act_capt_lvl-end-asavg_ae_act_capture_level----what-do-they-logcountdistinct-case-when-utrueai_user_role--sales-development-rep-then-uh_sys_user_id-end-assdr_count----how-many-of-the-reps-are-sdrsavgcase-when-utrueai_user_role--sales-development-rep-then-uhci_act_capt_lvl-end-asavg_sdr_act_capture_level----what-do-they-logcountdistinct-case-when-utrueai_user_role--account-manager-then-uh_sys_user_id-end-as-am_count---how-many-of-the-reps-are-amsavg-case-when-utrueai_user_role--account-manager-then-uhci_act_capt_lvl-end-asavg_am_act_capture_level----what-do-they-logfrom-users_history-as-uh----use-the-user-history-entity-to-get-past-datainner-join-users-as-u----link-w-current-user-liston-u_sys_doc_id--uh_sys_user_id----always-link-via-primary-key-_sys_doc_idand-uh_sys_filt_end_date--u_sys_asof---90----look-at-the-last-90-daysand-utrueai_termination_date-is-null----do-not-include-reps-that-were-terminatedgroup-by-utrueai_group----breakdown-by-group-nd-is-the-default-grouporder-by-1----sort-the-group",children:"Example SQL\nSELECT\nU.trueai_group, -- the name of the group\ncount(DISTINCT uh._sys_user_id) as rep_count, -- total number of reps in the period\navg(uh.ci_act_capt_lvl) as avg_act_capture_level, -- what % of activities do we estimate are actually\nlogged\navg(uh.ci_act_capt_lvl_conf) as avg_act_capture_level_confidence, -- what is the confidence in this\nassessment?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = 'Account Executive' THEN uh._sys_user_id END) as ae_count,\n-- how many of the reps are AEs?\nAVG( CASE WHEN U.trueai_user_role = 'Account Executive' THEN uh.ci_act_capt_lvl END) as\navg_ae_act_capture_level, -- what do they log?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = 'Sales Development Rep' THEN uh._sys_user_id END) as\nsdr_count, -- how many of the reps are SDRs?\nAVG(CASE WHEN U.trueai_user_role = 'Sales Development Rep' THEN uh.ci_act_capt_lvl END) as\navg_sdr_act_capture_level, -- what do they log?\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role = 'Account Manager' THEN uh._sys_user_id END) as am_count, --\nhow many of the reps are AMs?\nAVG( CASE WHEN U.trueai_user_role = 'Account Manager' THEN uh.ci_act_capt_lvl END) as\navg_am_act_capture_level -- what do they log?\nFROM users_history AS UH -- use the user history entity to get past data\nINNER JOIN users AS U -- link w/ current user list\nON U._sys_doc_id = UH._sys_user_id -- always link via primary key _sys_doc_id\nAND UH._sys_filt_end_date > U._sys_asof - 90 -- look at the last 90 days\nAND U.trueai_termination_date is null -- do not include reps that were terminated\nGROUP BY U.trueai_group -- breakdown by group (ND is the default group)\nORDER BY 1; -- sort the group"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nThere are 2 groups plus the default ND group. The South group consisting of just AEs are logging their data really well. The\nNorth group\u2019s Account Managers are not logging at the same level as their colleagues.\ntrueai_group rep_count avg_act_capture_level avg_act_capture_\nlevel_confidence\nae_count avg_ae_act_c\napture_level\nsdr_count avg_sdr_act_\ncapture_level\nam_count avg_am_act_capture_level\nND 3 0% 0 0 0\nNorth 12 70% 78% 4 63% 6 53% 2 45%\nSouth 7 88% 89% 7 88% 0 0\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 12"}),"\n",(0,n.jsxs)(t.h2,{id:"ade-6-ai-prediction-quality-v12purpose-of-analysisas-yogi-berra-said-predictions-are-hard-especially-about-the-future-the-cien-platform-attempts-to-predict-every-sales-stepand-many-other-things-on-an-ongoing-basis-to-avoid-model-drift-and-declining-prediction-quality-as-new-data-comes-in-theprediction-models-are-retrained-and-automatically-updated-online-those-quality-scores-are-available-to-api-developerscommon-challenges-and-how-to-accomplish-with-the-cien-apimost-lead-scoring-tools-provide-very-little-transparency-into-the-actual-quality-of-their-predictions-cien-is-di-ff-erent-bylooking-at-the-companies_history-entity-you-can-get-the-latest-quality-scores-on-multiple-quality-metrics-such-as-r-2correlation-of-coe-ffi-cient-and-auc-area-under-curve-both-from-live-sampling-of-actual-outcomes-and-scores-post-trainingif-you-are-concerned-with-the-quality-of-a-speci-fi-c-model-please-contact-apicienai",children:["ADE #6: AI Prediction Quality (V.1.2)\nPurpose of Analysis\nAs Yogi Berra said: \u201cPredictions are hard. Especially about the future.\u201d The Cien platform attempts to predict every sales step\nand many other things on an ongoing basis. To avoid model drift and declining prediction quality, as new data comes in, the\nprediction models are retrained and automatically updated online. Those quality scores are available to API developers.\nCommon Challenges and How to Accomplish with the Cien API\nMost lead scoring tools provide very little transparency into the actual quality of their predictions. Cien is di ff erent. By\nlooking at the companies_history entity you can get the latest quality scores on multiple quality metrics such as r 2\n(correlation of coe ffi cient) and AUC (area under curve), both from live sampling of actual outcomes and scores post-training.\nIf you are concerned with the quality of a speci fi c model, please contact ",(0,n.jsx)(t.a,{href:"mailto:api@cien.ai",children:"api@cien.ai"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectch_sys_processed_asof----date-of-processingchdi_pred_prospecting_r2----the-prospecting-r2-score-measured-on-performed-predictionschdi_pred_prospecting_auc----the-auc-score-measured-on-performed-predictionschdi_pred_prospecting_validation_score----the-r2-score-on-the-validation-set-during-online-trainingchdi_pred_new_logo_r2----same-for-new-logochdi_pred_new_logo_auc----the-auc-score-measured-on-performed-predictionschdi_pred_selling_validation_score----the-r2-score-on-the-validation-set-during-online-trainingfrom-companies_history-ch----the-company-history-entity-contains-company-specfic-settings-and-statsrelated-to-a-specific-processing-cycleorder-by-ch_sys_processed_asof-desc----sort-by-most-recentlimit-5----just-take-the-top-5-results",children:"Example SQL\nSELECT\nCH._sys_processed_asof, -- date of processing\nCH.di_pred_prospecting_r2, -- the prospecting r2 score measured on performed predictions\nCH.di_pred_prospecting_auc, -- the AUC score measured on performed predictions\nCH.di_pred_prospecting_validation_score, -- the r2 score on the validation set during online training\nCH.di_pred_new_logo_r2, -- same for new logo\nCH.di_pred_new_logo_auc, -- the AUC score measured on performed predictions\nCH.di_pred_selling_validation_score -- the r2 score on the validation set during online training\nFROM companies_history CH -- the company history entity contains company specfic settings and stats\nrelated to a specific processing cycle\nORDER BY CH._sys_processed_asof DESC -- sort by most recent\nLIMIT 5; -- just take the top 5 results"}),"\n",(0,n.jsxs)(t.p,{children:["Sample Result\nIn this case, the two models to determine prospecting and new logo selling are performing well. The r 2 and AUC scores are\nboth calculated based on the latest outcomes so they tend to fl uctuate a little for each processing cycle. The post-training\nvalidation score is only updated once a month when new data is applied into the training set, unless a manual re-training\nwas initiated.\n",(0,n.jsx)(t.em,{children:"sys_processed"}),"\nasof\ndi_pred_prospecting_r2 di_pred_prospecting_auc di_pred_prospectin\ng_validation_score\ndi_pred_new_logo_r2 di_pred_new_logo_auc di_pred_selling_validatio\nn_score\n6/19/2022 0.990 0.840 0.877 0.970 0.830 0.863\n6/8/2022 0.830 0.890 0.877 0.970 0.840 0.863\n6/5/2022 0.800 0.890 0.877 0.970 0.840 0.863\n6/3/2022 0.830 0.890 0.877 0.970 0.840 0.863\n6/2/2022 0.830 0.890 0.877 0.970 0.840 0.863\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 13"]}),"\n",(0,n.jsx)(t.p,{children:"Deal Intelligence (DI) - Revenue & Buyer Journey Insights\nBeing able to isolate speci fi c steps in the sales process, and understand the customer factors a ff ecting outcomes is key to\nimproving outcomes. The TrueAI platform makes that possible with the ssr and ssr_history entities.\nDI #1: Historical Revenue\nDI #2: Churn Analysis\nDI #3: Pipeline Creation by Sale Type & Quality\nDI #4: Pipeline Analysis by Creator Group & Role\nDI #5: Win/Loss Analysis of New Logo Sales\nDI #6: Revenue Concentration Analysis\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 14"}),"\n",(0,n.jsx)(t.h2,{id:"di-1-historical-revenue-v12purpose-of-analysisknowing-past-years-sales-numbers-may-seem-like-the-most-basic-analysis-you-can-do-of-a-gtm-team-but-as-always-thereare-things-that-commonly-skews-the-data-and-insights-leading-to-the-wrong-conclusionscommon-challenges-and-how-to-accomplish-with-the-cien-apithe-fi-rst-thing-to-know-is-whether-a-particular-deal-is-the-fi-rst-or-a-repeat-purchase-by-a-customer-most-revops-teams-relyon-using-the-crm_opp_type-fi-eld-in-the-opps-entity-for-that-information-but-if-you-look-at-that-fi-eld-carefully-you-willusually-fi-nd-incorrect-and-inconsistently-tagged-opps-its-better-if-you-also-look-for-prior-purchases-by-the-samede-duplicated-account-other-challenges-may-be-opps-with-amounts-in-di-ff-erent-currencies-making-aggregates-di-ffi-cultan-easier-way-to-get-this-information-is-to-use-the-ssr_history-table-where-the-data-has-been-normalized-and-it-is-easyto-do-sub-category-summarization-by-year-type-of-sales-team-role-etc",children:"DI #1: Historical Revenue (V.1.2)\nPurpose of Analysis\nKnowing past years\u2019 sales numbers may seem like the most basic analysis you can do of a GTM team, but as always, there\nare things that commonly skews the data and insights, leading to the wrong conclusions.\nCommon Challenges and How to Accomplish with the Cien API\nThe fi rst thing to know is whether a particular deal is the fi rst or a repeat purchase by a customer. Most RevOps teams rely\non using the crm_opp_type fi eld in the opps entity for that information, but if you look at that fi eld carefully, you will\nusually fi nd incorrect and inconsistently tagged opps. It\u2019s better if you also look for prior purchases by the same\n(de-duplicated) account. Other challenges may be opps with amounts in di ff erent currencies making aggregates di ffi cult.\nAn easier way to get this information, is to use the ssr_history table, where the data has been normalized and it is easy\nto do sub-category summarization by year, type of sales team, role etc."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectdate_partyear-sh_sys_filt_end_date-as-year----which-yearsumshopp_won_amt-as-won_amount----total-booked-revenueselect-chcompany_currency-from-companies_history-ch-order-by-_sys_asof-desc-limit-1-as-currency---get-the-company-primary-currencycountsh_sys_doc_id-as-won_deals----total-won-dealsavgshopp_won_amt-as-avg_deal_size----the-avg-won-deal-sizesumcase-when-step_name--new-logo-selling-then-shopp_won_amt-end-as-new_logo_amount----new-logorevenue-onlysumcase-when-step_name--upselling-then-shopp_won_amt-end-as-upselling_amount----upselling-revenueonlysumcase-when-step_name--upselling-and-shopp_sale_type--expansion-sale-then-shopp_won_amt-endas-upselling_expansion_amount----part-of-upselling-thats-expansion-salesumcase-when-step_name--upselling-and-shopp_sale_type--renewal-then-shopp_won_amt-end-asupselling_renewal_amount----part-of-upselling-thats-renewalsfrom-ssr_history-as-sh----get-from-the-ssr-historywhere-step_name-in-new-logo-selling-upselling----we-only-care-about-these-two-steps-not-the-restand-shstep_success--true----we-only-care-about-deals-that-were-wongroup-by-date_partyear-sh_sys_filt_end_date----group-by-yearorder-by-1-desc----sort-most-recent-year-firstlimit-5----go-back-5-years",children:"Example SQL\nSELECT\ndate_part('year', SH._sys_filt_end_date) as year, -- which year?\nSUM(SH.opp_won_amt) as won_amount, -- total booked revenue\n(SELECT CH.company_currency FROM companies_history CH ORDER BY _sys_asof DESC LIMIT 1) as currency, --\nget the company primary currency\nCOUNT(SH._sys_doc_id) as won_deals, -- total won deals\nAVG(SH.opp_won_amt) as avg_deal_size, -- the avg won deal size\nSUM(CASE WHEN step_name = 'New Logo Selling' THEN SH.opp_won_amt END) as new_logo_amount, -- new logo\nrevenue only\nSUM(CASE WHEN step_name = 'Upselling' THEN SH.opp_won_amt END) as upselling_amount, -- upselling revenue\nonly\nSUM(CASE WHEN step_name = 'Upselling' AND SH.opp_sale_type = 'Expansion Sale' THEN SH.opp_won_amt END)\nas upselling_expansion_amount, -- part of upselling that's expansion sale\nSUM(CASE WHEN step_name = 'Upselling' AND SH.opp_sale_type = 'Renewal' THEN SH.opp_won_amt END) as\nupselling_renewal_amount -- part of upselling that's renewals\nFROM ssr_history AS SH -- get from the ssr history\nWHERE step_name in ('New Logo Selling', 'Upselling') -- we only care about these two steps not the rest\nAND SH.step_success = 'true' -- we only care about deals that were won\nGROUP BY date_part('year', SH._sys_filt_end_date) -- group by year\nORDER BY 1 DESC -- sort most recent year first\nLIMIT 5; -- go back 5 years"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, the company experienced stagnating growth between 2018 \u2013 2020. By focusing on larger deal sizes, and better\nprospecting, growth returned in 2021. Provided that churn is low, this should allow for rapid revenue growth going\nforward, since the new logo revenue compounds as those customers buy more.\nyear won_amount currency won_deals avg_deal_size new_logo_amount\n2021 $47,644,159 USD 1014 $46,986 $17,460,905\n2020 $28,402,642 USD 1017 $27,928 $9,975,059\n2019 $23,934,230 USD 1168 $20,492 $7,961,850\n2018 $26,215,867 USD 1379 $19,011 $10,080,340\n2017 $ 11,313,692 USD 382 $29,617 $ 8,991,992\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 15"}),"\n",(0,n.jsx)(t.h2,{id:"di-2-churn-analysis-v12purpose-of-analysismost-b2b-companies-rely-on-repeat-purchases-by-their-clients-even-if-they-do-not-have-an-explicit-subscription-modelfailing-to-sell-to-a-lot-of-those-clients-again-is-usually-considered-one-of-the-most-severe-gtm-problems-therefore-the-rootcauses-must-be-investigated-thoroughly-since-they-can-be-attributed-to-product-customer-segment-support-practiceaccount-management--or-more-likely-a-combination-of-those-factorscommon-challenges-and-how-to-accomplish-with-the-cien-apiits-always-helpful-to-have-a-customer-walk-year-by-year-which-shows-starting-customers-new-churned-retained-andending-customers-with-that-data-you-can-then-calculate-churn-rate-growth-rate-etc-etc-the-biggest-challenge-is-to-knowwhen-and-if-an-account-has-actually-churned-crm-systems-like-salesforce-do-not-have-an-account-status-fi-eld-and-churneddate-fi-eld-sometimes-you-can-get-this-info-from-erp-systems-however-then-you-may-have-trouble-cross-referencing-itwith-the-crm-data-since-it-uses-di-ff-erent-names-and-idscien-determines-the-trueai_first_purchase-and-trueai_churned_on-values-for-accounts-in-the-ssr-entity-based-onwhen-the-fi-rst-deal-was-won-and-if-there-are-subsequent-deals-within-a-year-of-that-point-please-note-that-this-analysis-willonly-be-valid-if-renewals-are-logged-as-opps-in-the-crm-if-not-additional-data-from-an-erpbilling-system-must-besupplied",children:"DI #2: Churn Analysis (V.1.2)\nPurpose of Analysis\nMost B2B companies rely on repeat purchases by their clients, even if they do not have an explicit subscription model.\nFailing to sell to a lot of those clients again is usually considered one of the most severe GTM problems; therefore, the root\ncauses must be investigated thoroughly since they can be attributed to product, customer segment, support practice,\naccount management , or, more likely, a combination of those factors.\nCommon Challenges and How to Accomplish with the Cien API\nIt\u2019s always helpful to have a \u201ccustomer-walk\u201d year by year, which shows starting customers, new, churned, retained and\nending customers. With that data you can then calculate churn rate, growth rate, etc, etc. The biggest challenge is to know\nwhen and if an account has actually churned. CRM systems like Salesforce do not have an account status fi eld and churned\ndate fi eld. Sometimes you can get this info from ERP systems; however, then you may have trouble cross-referencing it\nwith the CRM data, since it uses di ff erent names and IDs.\nCien determines the trueai_first_purchase and trueai_churned_on values for accounts in the ssr entity based on\nwhen the fi rst deal was won, and if there are subsequent deals within a year of that point. Please note that this analysis will\nonly be valid if renewals are logged as opps in the CRM. If not, additional data from an ERP/Billing system must be\nsupplied."}),"\n",(0,n.jsx)(t.p,{children:"Example SQL\nSELECT -- just the last 5 years\nYear,\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) < Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) >= Y.year THEN _sys_doc_id END) as boy_customers, --\nget the beginning of year customers\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) = Y.year THEN _sys_doc_id END) as\nnew_customers, -- who bought for the first time\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) as\nchurned_customers, -- who stopped buying this year\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) = Y.year THEN _sys_doc_id END) -\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) as\nnet_new_customers, -- diff between new and lost\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) <= Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) > Y.year THEN _sys_doc_id END) as eoy_customers, --\ncustomers at the end of the year\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) / CAST(1 +\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) < Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) >= Y.year THEN _sys_doc_id END) as float) as\nchurn_rate -- churn rate is boy / churned\nFROM ssr S -- use SSR\nCROSS JOIN (\nSELECT 2021 as year UNION\nSELECT 2020 as year UNION\nSELECT 2019 as year UNION\nSELECT 2018 as year UNION\nSELECT 2017 as year\n) as Y -- create a pseudo year table to cross reference against\nWHERE (S.trueai_account_is_master = 'true' or S.trueai_account_is_master IS NULL) -- remove dupes\nGROUP BY Y.year -- group by year\nORDER BY 1 DESC\nLIMIT 5; -- most recent data\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 16"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, account churn was not a problem during 2018-2020, but doubled in 2021, resulting in a new decrease of active\ncustomers that year.\nyear boy_customers new_customers churned_customers net_new_customers eoy_customers\n2021 1,396 111 175 -64 1,271\n2020 1,273 127 87 40 1,396\n2019 1,115 150 60 90 1,273\n2018 708 199 36 163 1,115\n2017 421 143 13 130 708\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 17"}),"\n",(0,n.jsx)(t.h2,{id:"di-3-pipeline-creation-by-sale-type--quality-v12purpose-of-analysiswhen-surveying-senior-sales-executives-about-their-priorities-creating-a-bigger-and-better-pipeline-is-almost-always-amongtheir-top-3-objectives-however-it-is-important-to-measure-pipeline-not-just-in-deals-and-pipeline-amount-but-also-inquality-it-is-often-easy-for-reps-to-create-low-quality-pipeline-by-simply-entering-deals-that-they-hope-will-close-doing-sowithout-performing-the-required-quali-fi-cation-steps-cien-detects-this-automaticallycommon-challenges-and-how-to-accomplish-with-the-cien-apias-in-other-deal-analysis-pipeline-analysis-needs-to-be-segmented-between-existing-and-new-logo-business-since-the-winrates-tend-to-be-quite-di-ff-erent-you-should-also-predict-the-probability-of-a-win-for-each-deal-based-on-the-attributes-of-theaccount-and-what-has-occurred-until-now-eg-the-level-of-engagement-during-initial-discovery-this-is-extremely-hard-todo-using-raw-crm-data-since-you-often-dont-have-access-to-clean-outcomes-and-enough-training-data-to-build-a-reliableprediction-model-ciens-deal-intelligence-uses-ai-models-trained-on-millions-of-records---fi-ne-tuned-on-your-speci-fi-c-data--to-predict-those-outcomes-please-see-the-ade-prediction-accuracy-example-above-for-how-to-inspect-the-quality-of-dealpredictions-over-time-of-your-dataas-with-most-deal-analysis-we-use-the-ssr_history-entity-instead-of-the-crm-opps-table-but-here-we-are-looking-at-theprospecting-for-new-logo-selling-and-post-sale-support-for-upselling-steps-by-fi-ltering-by-step_name-",children:"DI #3: Pipeline Creation by Sale Type & Quality (V.1.2)\nPurpose of Analysis\nWhen surveying senior sales executives about their priorities, creating a bigger and better pipeline is almost always among\ntheir top 3 objectives. However, it is important to measure pipeline not just in deals and pipeline amount, but also in\nquality. It is often easy for reps to create low-quality pipeline by simply entering deals that they hope will close, doing so\nwithout performing the required quali fi cation steps. Cien detects this automatically.\nCommon Challenges and How to Accomplish with the Cien API\nAs in other deal analysis, pipeline analysis needs to be segmented between existing and new logo business, since the win\nrates tend to be quite di ff erent. You should also predict the probability of a win for each deal based on the attributes of the\naccount and what has occurred until now (e.g., the level of engagement during initial discovery). This is extremely hard to\ndo using raw CRM data, since you often don\u2019t have access to clean outcomes and enough training data to build a reliable\nprediction model. Cien\u2019s Deal Intelligence uses AI models trained on millions of records - fi ne-tuned on your speci fi c data -\nto predict those outcomes. Please see the ADE prediction accuracy example above for how to inspect the quality of deal\npredictions over time of your data.\nAs with most deal analysis, we use the ssr_history entity instead of the CRM opps table, but here we are looking at the\nProspecting (for new logo selling) and Post-Sale Support (for upselling) steps by fi ltering by step_name ."}),"\n",(0,n.jsx)(t.p,{children:"Example SQL\nSELECT\nCAST(date_part('year', SH._sys_filt_end_date) as VARCHAR) || '-0' ||\nCAST(date_part('quarter',SH._sys_filt_end_date) as VARCHAR) as year_qtr, -- create a quarter value\nSUM(SH.opp_pipeline_amt) as total_pipeline_created, -- the pipeline created in the quarter\nAVG(SH.step_next_success_prob) as predicted_opp_win_rate, -- the avg. predicted win rate of that\npipeline (pipe line quality)\nSUM(SH.step_next_success_prob * SH.opp_pipeline_amt) as predicted_opp_win_amount, -- predicted win rate\ntimes amount is the expected won amount resulting from this pipeline\nSUM(CASE WHEN SH.step_name = 'Prospecting' THEN SH.opp_pipeline_amt END) as new_logo_pipeline, -- just\nnew logo pipeline\nAVG(CASE WHEN SH.step_name = 'Prospecting' THEN SH.step_next_success_prob END) as\nnew_logo_predicted_opp_win_rate, -- the avg. predicted win rate for new logo only\n--SUM(CASE WHEN SH.step_name = 'Prospecting' THEN SH.step_next_success_prob * SH.opp_pipeline_amt END )\nas _predicted_opp_win_amount, -- win rate times amount for new logo pipeline\nSUM(CASE WHEN SH.step_name = 'Post Sales Support' THEN SH.opp_pipeline_amt END) as upselling_pipeline,\n-- just upselling pipeline\nAVG(CASE WHEN SH.step_name = 'Post Sales Support' THEN SH.step_next_success_prob END) as\nupselling_predicted_opp_win_rate -- the avg. predicted win rate for upselling only\n--SUM(CASE WHEN SH.step_name = 'Post Sales Support' THEN SH.step_next_success_prob * SH.opp_pipeline_amt\nEND ) as upselling_predicted_opp_win_amount -- win rate times amount for upselling pipeline\nFROM ssr AS S\nINNER JOIN ssr_history AS SH\nON S._sys_doc_id = SH._sys_ssr_id\nWHERE date_part('year', SH._sys_filt_end_date) >= date_part('year', SH._sys_asof) -2 AND\ndate_part('year', SH._sys_filt_end_date) < date_part('year', SH._sys_asof) -- look at the last 2 full\nyears\nAND (S.trueai_account_is_master = 'true' OR S.trueai_account_is_master is Null)\nAND SH.step_name in ('Prospecting', 'Post Sales Support') -- we're only interested in the steps where\npipeline is created\nAND SH.step_success = 'true' -- we're only interested in successfully completed steps, since we want to\ndetermine what will happen in the next step (selling)\nGROUP BY date_part('year', SH._sys_filt_end_date), date_part('quarter', SH._sys_filt_end_date) -- group\nby quarter\nORDER BY 1 DESC; -- order by year and quarter most recent\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 18"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsxs)(t.p,{children:["Sample Result\nIn this case, pipeline quantity has increased while pipeline quality has remained fairly steady. This is a good outcome, since\nit is easy to sacri fi ce proper quali fi cation when trying to create a bigger pipeline. Worth noting, as in most companies, the\nprobability of a win from an upselling opp is signi fi cantly higher (here almost 3X).\nyear_qtr total_pipeline_created predicted_opp_win\n",(0,n.jsx)(t.em,{children:"rate\npredicted_opp_win"}),"\namount\nnew_logo_pipeline new_logo_predicted_\nopp_win_rate\nupselling_pipeline upselling_predicted_\nopp_win_rate\n2021-04 $193,082,451 44% $93,300,578 $29,523,197 18% $163,559,255 53%\n2021-03 $169,548,637 42% $67,557,600 $29,996,527 22% $139,552,111 50%\n2021-02 $125,370,416 44% $59,061,419 $23,573,003 19% $101,797,413 52%\n2021-01 $223,850,916 45% $116,651,892 $17,898,678 19% $205,952,238 54%\n2020-04 $204,615,052 48% $117,202,623 $20,250,146 19% $184,364,906 57%\n2020-03 $58,606,686 43% $23,979,042 $18,418,612 19% $40,188,074 56%\n2020-02 $65,489,854 44% $27,049,820 $21,363,079 19% $ 44,126,775 56%\n2020-01 $115,796,755 47% $57,469,296 $14,458,985 19% $101,337,770 55%\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 19"]}),"\n",(0,n.jsx)(t.h2,{id:"di-4-pipeline-analysis-by-creator-group--role-v12purpose-of-analysiswhile-creating-pipeline-is-top-of-mind-for-gtm-leadership-there-are-often-doubts-whether-speci-fi-c-groups-andor-roles-arecontributing-to-the-overall-success-of-the-sales-teamcommon-challenges-and-how-to-accomplish-with-the-cien-apilooking-at-the-pipeline-in-aggregate-is-often-not-helpful-and-its-easy-to-draw-very-wrong-conclusions-eg-a-commoncomplaint-is-that-sdrs-create-poorly-quali-fi-ed-pipeline-that-aes-then-struggle-to-close-to-determine-if-that-is-the-case-youneed-to-know-who-created-the-pipeline-hard-if-there-are-hando-ff-s-at-di-ff-erent-points-in-the-buyer-journey-you-also-needto-know-the-role-of-each-rep-and-you-need-to-have-a-way-to-objectively-measure-the-quality-probability-of-winning-thedeal-of-each-deal-none-of-this-data-is-available-in-the-raw-crm-feed-in-a-standardized-formatcien-makes-that-analysis-easy-using-the-ssr_history-and-users-entities-we-are-again-relying-on-thestep_next_success_prob-fi-eld-which-contains-the-success-prediction-of-the-subsequent-step-thestep_success_prob-predicts-the-probability-of-success-in-the-current-step-ie-in-this-example-the-probability-of-aconversion-into-an-opportunity",children:"DI #4: Pipeline Analysis by Creator Group & Role (V.1.2)\nPurpose of Analysis\nWhile creating pipeline is top-of-mind for GTM leadership, there are often doubts whether speci fi c groups and/or roles are\ncontributing to the overall success of the sales team.\nCommon Challenges and How to Accomplish with the Cien API\nLooking at the pipeline in aggregate is often not helpful, and it\u2019s easy to draw very wrong conclusions. E.g., a common\ncomplaint is that SDRs create poorly quali fi ed pipeline that AEs then struggle to close. To determine if that is the case, you\nneed to know who created the pipeline (hard if there are hando ff s at di ff erent points in the buyer journey). You also need\nto know the role of each rep, and you need to have a way to objectively measure the quality (probability of winning the\ndeal) of each deal. None of this data is available in the raw CRM feed in a standardized format.\nCien makes that analysis easy using the ssr_history and users entities. We are again relying on the\nstep_next_success_prob fi eld, which contains the success prediction of the subsequent step. The\nstep_success_prob predicts the probability of success in the current step. I.e., in this example the probability of a\nconversion into an opportunity."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectutrueai_group----the-sales-groupsumshopp_pipeline_amt-as-total_pipeline_created----the-pipeline-created-during-the-periodavgshstep_next_success_prob-as-predicted_opp_win_rate----the-avg-predicted-win-rate-of-thatpipeline-pipeline-qualitysumshstep_next_success_prob--shopp_pipeline_amt-as-predicted_opp_win_amount----predicted-win-ratetimes-amount-is-the-expected-won-amount-resulting-from-this-pipelinesumcase-when-utrueai_user_role_function--ae-then-shopp_pipeline_amt-end-as-ae_pipeline----justpipeline-created-by-aesavgcase-when-utrueai_user_role_function--ae-then-shstep_next_success_prob-end-asae_predicted_opp_win_rate----the-avg-predicted-win-rate-for-ae-onlysumcase-when-utrueai_user_role_function--sdr-then-shopp_pipeline_amt-end-as-sdr_pipeline----justpipeline-created-by-sdrsavgcase-when-utrueai_user_role_function--sdr-then-shstep_next_success_prob-end-assdr_predicted_opp_win_rate----the-avg-predicted-win-rate-for-sdr-onlyfrom-ssr-as-s----link-in-ssrinner-join-ssr_history-as-sh----the-ssr-history-gives-you-the-bulk-of-the-detailson-s_sys_doc_id--sh_sys_ssr_idinner-join-users-uon-shstep_owner_id--u_sys_doc_idwhere-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof-1----look-at-last-yearand-strueai_account_is_master--true-or-strueai_account_is_master-is-null----remove-duplicatesand-shstep_name-in-prospecting----lets-only-look-at-new-logo-prospectingand-shstep_success--true----were-only-interested-in-successfully-completed-steps-since-we-want-todetermine-what-will-happen-in-the-next-step-sellingand-utrueai_user_role_function-in-sdrae----lets-exclude-other-rolesgroup-by-utrueai_group----group-by-the-sales-teamorder-by-1----order-by-group",children:"Example SQL\nSELECT\nU.trueai_group, -- the sales group\nSUM(SH.opp_pipeline_amt) as total_pipeline_created, -- the pipeline created during the period\nAVG(SH.step_next_success_prob) as predicted_opp_win_rate, -- the avg. predicted win rate of that\npipeline (pipeline quality)\nSUM(SH.step_next_success_prob * SH.opp_pipeline_amt) as predicted_opp_win_amount, -- predicted win rate\ntimes amount is the expected won amount resulting from this pipeline\nSUM(CASE WHEN U.trueai_user_role_function = 'AE' THEN SH.opp_pipeline_amt END) as ae_pipeline, -- just\npipeline created by AEs\nAVG(CASE WHEN U.trueai_user_role_function = 'AE' THEN SH.step_next_success_prob END) as\nae_predicted_opp_win_rate, -- the avg. predicted win rate for AE only\nSUM(CASE WHEN U.trueai_user_role_function = 'SDR' THEN SH.opp_pipeline_amt END) as sdr_pipeline, -- just\npipeline created by SDRs\nAVG(CASE WHEN U.trueai_user_role_function = 'SDR' THEN SH.step_next_success_prob END) as\nsdr_predicted_opp_win_rate -- the avg. predicted win rate for SDR only\nFROM ssr AS S -- link in SSR\nINNER JOIN ssr_history AS SH -- the SSR history gives you the bulk of the details\nON S._sys_doc_id = SH._sys_ssr_id\nINNER JOIN users U\nON SH.step_owner_id = U._sys_doc_id\nWHERE date_part('year', SH._sys_filt_end_date) = date_part('year', SH._sys_asof)-1 -- look at last year\nAND (S.trueai_account_is_master = 'true' OR S.trueai_account_is_master IS NULL) -- remove duplicates\nAND SH.step_name in ('Prospecting') -- let's only look at new logo prospecting\nAND SH.step_success = 'true' -- we're only interested in successfully completed steps, since we want to\ndetermine what will happen in the next step (selling)\nAND U.trueai_user_role_function in ('SDR','AE') -- let's exclude other roles\nGROUP BY U.trueai_group -- group by the sales team\nORDER BY 1; -- order by group"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, pipeline quality varies across groups with the LATAM group struggling to create high-quality new logo pipeline.\nWorth noting is that the SDR generated pipeline is signi fi cantly worse than the AE pipeline for the Enterprise group.\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 20"}),"\n",(0,n.jsx)(t.p,{children:"trueai_group total_pipeline_created predicted_opp_\nwin_rate\npredicted_opp_\nwin_amount\nae_pipeline ae_predicted_opp_win_rate sdr_pipeline sdr_predicted_opp_\nwin_rate\nLATAM $6,461,662 13% $842,752 $991,862 11% $5,469,800 13%\nEMEA $9,097,549 18% $1,710,604 $ 2,820,248 20% $6,277,300 18%\nEnterprise $18,275,038 18% $4,795,024 $ 3,964,363 27% $14,310,675 17%\nMid Market $18,932,554 21% $3,734,812 $14,747,436 22% $4,185,118 17%\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 21"}),"\n",(0,n.jsx)(t.h2,{id:"di-5-winloss-analysis-of-new-logo-sales-v12purpose-of-analysiseveryone-wants-to-understand-the-secret-to-winning-deals-there-are-tons-of-best-practices-out-there-but-what-is-reallyinteresting-is-what-factors-have-made-reps-win-deals-in-your-gtm-organization-here-is-a-simple-analysis-that-highlightswhat-tends-to-be-the-factors-with-the-biggest-impactcommon-challenges-and-how-to-accomplish-with-the-cien-apitraditional-winloss-analysis-is-often-highly-qualitative-the-team-pulls-up-x-number-of-completed-deals-usually-just-afraction-of-all-the-deals-in-a-quarter-and-looks-at-what-happened-what-the-customer-did-how-the-rep-responded-and-anyother-facts-relevant-to-that-speci-fi-c-deal-for-example-where-the-customer-was-located-or-which-industry-it-was-inthis-analysis-is-often-useful-to-understand-broad-trends-but-it-does-not-help-much-in-ongoing-global-analysis-of-all-dealsand-the-most-important-factors-for-those-since-most-data-is-usually-not-readily-available-in-the-crm-database-and-even-ifthe-data-points-are-present-they-are-usually-not-adjusted-based-on-data-quality-eg-raw-activity-count-may-vary-a-lotdepending-on-if-the-rep-is-automatically-recording-their-activities-or-not-whereas-the-stakeholders_all_adj_durationfi-eld-estimates-the-total-time-the-team-has-spent-on-the-deal-in-a-speci-fi-c-step-accounting-for-various-levels-of-logging-andprep-timecien-makes-that-type-of-analysis-available-with-a-minimum-of-e-ff-ort-using-the-ssr_history-entity-grouping-by-thestep_outcome-fi-eld-for-simplicity-this-analysis-does-not-include-stakeholder-roles-and-levels-ie-which-dept-andseniority-a-contact-has--this-information-can-sometimes-have-a-big-impact-as-well-and-is-also-available-in-the-same-entity",children:"DI #5: Win/Loss Analysis of New Logo Sales (V.1.2)\nPurpose of Analysis\nEveryone wants to understand the secret to winning deals. There are tons of \u201cbest practices\u201d out there, but what is really\ninteresting is what factors have made reps win deals in your GTM organization. Here is a simple analysis that highlights\nwhat tends to be the factors with the biggest impact.\nCommon Challenges and How to Accomplish with the Cien API\nTraditional win/loss analysis is often highly qualitative. The team pulls up X number of completed deals (usually just a\nfraction of all the deals in a quarter) and looks at what happened, what the customer did, how the rep responded and any\nother facts relevant to that speci fi c deal; for example, where the customer was located or which industry it was in.\nThis analysis is often useful to understand broad trends, but it does not help much in ongoing global analysis of all deals\nand the most important factors for those, since most data is usually not readily available in the CRM database. And even if\nthe data points are present, they are usually not adjusted based on data quality. E.g., raw activity count may vary a lot\ndepending on if the rep is automatically recording their activities or not, whereas the stakeholders_all_adj_duration\nfi eld estimates the total time the team has spent on the deal in a speci fi c step, accounting for various levels of logging and\nprep time.\nCien makes that type of analysis available with a minimum of e ff ort using the ssr_history entity grouping by the\nstep_outcome fi eld. For simplicity, this analysis does not include stakeholder roles and levels, (i.e., which dept. and\nseniority a contact has) \u2013 this information can sometimes have a big impact as well and is also available in the same entity."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectshstep_outcome----outcome-in-this-case-won-or-lostavgshstep_success_prob-as-avg_success_prediction----what-was-the-avg-prediction-for-each-outcomecountsh_sys_doc_id-as-deal_count----count-of-dealsavgshstep_length_in_days-as-avg_days----see-how-long-each-cycle-is-on-avg-in-daysavgshstkhlds_all_dur--3600-as-avg_hours_deal----total-time-spent-on-the-deal-divide-seconds-by3600-to-get-hoursavgshstkhlds_all_dur_eng--3600-as-avg_engaged_hours_deal----how-many-avtivities-on-avg-wereengagedavgshstkhlds_all_dur_eng--castavgshstkhlds_all_dur-1-as-float-engagement_ratio----get-theratioavgcastshstkhlds_all_contacts_count-as-float-as-avg_number_of_contacts_involved----get-the-avgnumber-of-contacts-need-to-cast-to-get-a-decimalfrom-ssr_history-sh----ssr-history-has-all-the-sales-steps-infowhere-shstep_name-in-new-logo-selling----were-only-interested-in-new-logoand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof---1----look-at-full-lastyearand-shstep_outcome-is-not-null----exclude-deals-that-are-not-yet-closedgroup-by-shstep_outcome----group-by-outcome---in-this-case-won-or-lostorder-by-1-desc----sort-by-outcome",children:"Example SQL\nSELECT\nSH.step_outcome, -- outcome, in this case won or lost\nAVG(SH.step_success_prob) as avg_success_prediction, -- what was the avg prediction for each outcome\nCOUNT(SH._sys_doc_id) AS deal_count, -- count of deals\nAVG(SH.step_length_in_days) AS avg_days, -- see how long each cycle is on avg in days\nAVG(SH.stkhlds_all_dur) / 3600 AS avg_hours_deal, -- total time spent on the deal (divide seconds by\n3600 to get hours)\nAVG(SH.stkhlds_all_dur_eng) / 3600 as avg_engaged_hours_deal, -- how many avtivities on avg were\nengaged\nAVG(SH.stkhlds_all_dur_eng) / CAST(AVG(SH.stkhlds_all_dur +1) as float) engagement_ratio, -- get the\nratio\nAVG(CAST(SH.stkhlds_all_contacts_count as float)) as avg_number_of_contacts_involved -- get the avg\nnumber of contacts (need to cast to get a decimal)\nFROM ssr_history SH -- ssr history has all the sales steps info\nWHERE SH.step_name IN ('New Logo Selling') -- we're only interested in new logo\nAND date_part('year', SH._sys_filt_end_date) = date_part('year', SH._sys_asof) - 1 -- look at full last\nyear\nAND SH.step_outcome IS NOT NULL -- exclude deals that are not yet closed\nGROUP by SH.step_outcome -- group by outcome - in this case won or lost\nORDER BY 1 DESC; -- sort by outcome"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, the analysis shows a very common pattern, that more engagement results in a won deal (i.e., the customer is\nnot going \u201cradio-silent\u201d, and not responding to the rep\u2019s outreach). Factors such as number of buyer contacts involved does\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 22"}),"\n",(0,n.jsx)(t.p,{children:"not seem to have any impact on outcome. Won deals are wrapped up in around 4 months, but deals that end up being\nlost, run much longer. Not surprisingly, there is a big di ff erence (2X) in the initial prediction of the deal being won.\nIt is important to recall that this prediction is done prior to any actual sales activity has started on the deal \u2013 it does not\nconsider whether the deal is owned by a \u201cgood\u201d or a \u201cbad\u201d rep, or exactly the e ff ort they put into it (E.g., a rep could\npotentially completely ignore a good deal, hence losing it regardless of the initial high probability).\nstep_outcome avg_success_prediction deal_count avg_days avg_hours_deal avg_engaged_hours_deal engagement_ratio avg_number_of_contacts_\ninvolved\nClosed Won 27% 206 111 148 98 66% 3.5\nClosed Lost 13% 2,036 410 42 16 39% 3.5\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 23"}),"\n",(0,n.jsx)(t.h2,{id:"di-6-revenue-concentration-analysis-v12purpose-of-analysishaving-too-much-revenue-concentrated-in-a-few-large-clients-poses-a-great-risk-for-a-gtm-organization-at-the-same-timemany-revenue-leaders-cite-the-pareto-principle-80-of-your-revenue-comes-from-20-of-your-clients-as-almost-inevitablecommon-challenges-and-how-to-accomplish-with-the-cien-apithis-analysis-unlike-most-other-analyses-is-not-dependent-on-a-lot-of-cleaning-up-of-data-except-that-a-customer-withmultiple-purchases-within-a-year-needs-to-be-consolidatedthe-tricky-part-of-this-analysis-is-to-use-running-totals-based-on-di-ff-erent-sort-orders-by-using-the-partition-and-overkeywords-in-sql-it-is-possible-to-get-the-number-of-the-largest-account-that-represents-80-of-total-annual-revenue-andcompare-that-to-the-total-number-of-accounts-that-bought-in-the-year",children:"DI #6: Revenue Concentration Analysis (V.1.2)\nPurpose of Analysis\nHaving too much revenue concentrated in a few large clients poses a great risk for a GTM organization. At the same time,\nmany revenue leaders cite the Pareto principle (80% of your revenue comes from 20% of your clients) as almost inevitable.\nCommon Challenges and How to Accomplish with the Cien API\nThis analysis, unlike most other analyses, is not dependent on a lot of cleaning up of data, except that a customer with\nmultiple purchases within a year needs to be consolidated.\nThe tricky part of this analysis is to use running totals based on di ff erent sort orders. By using the PARTITION and OVER\nkeywords in SQL, it is possible to get the number of the largest account that represents 80% of total annual revenue and\ncompare that to the total number of accounts that bought in the year."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectdate_partyear-_sys_filt_end_date-as-year----get-the-yearsumopp_won_amt-as-sum_sales----get-the-sum-of-salescountdistinct-_sys_ssr_id-as-customer_count----get--of-buying-customersavgopp_won_amt-as-avg_sale_per_customer----get-avg-rev-per-accountmaxopp_won_amt-as-biggest_customer_amt----get-size-of-biggest-accountcountdistinct-case-when-cumul_by_cust_size--total_won--08-then-_sys_ssr_id-end-aseighty_pct_revenue_customer_count----include-all-up-to-80-of-rev-to-get-pareto-numbercountdistinct-case-when-cumul_by_cust_size--total_won--08-then-_sys_ssr_id-end-castcountdistinct-_sys_ssr_id-as-decimal-as-eighty_pct_revenue_customer_percentage----percentage-ofpareto-numberfrom----second-agg-to-do-the-rankingsselect_sys_filt_end_date----get-the-date_sys_ssr_idopp_won_amtrow_number-over-partition-by-date_partyear-_sys_filt_end_date-order-by-_sys_filt_end_date-assale_num----get-the-number-of-the-account-based-on-purchase-datesumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-order-by-_sys_filt_end_dateas-cumul_amt_won----add-up-sales-for-cumulative-total-based-on-datesumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-as-total_won----get-thetotal-won-in-the-grouping-yearrow_number-over-partition-by-date_partyear-_sys_filt_end_date-order-by-opp_won_amt-desc-ascust_size_rank----get-the-rank-per-year-w-1-being-the-biggest-customersumopp_won_amt-over-partition-by-date_partyear-_sys_filt_end_date-order-by-opp_won_amt-desc-ascumul_by_cust_size----get-the-ordering-by-sizefrom----first-aggregation-just-get-rev-per-year-and-accountselectmax_sys_filt_end_date-as-_sys_filt_end_date----get-the-highest-date-for-a-purchase-of-that-account_sys_ssr_id----get-the-unique-accountsumshopp_won_amt-as-opp_won_amt----sum-up-all-purchases-of-that-accountfrom-ssr_history-shwhere-shopp_won_amt--0----only-care-about-clients-that-boughtand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof-5----go-back-5-yearsand-date_partyear-sh_sys_filt_end_date--date_partyear-sh_sys_asof----exclude-currentpartial-yeargroup-by-date_partyear-sh_sys_filt_end_date-sh_sys_ssr_id----group-by-account-as-sh_by_account----first-agg-as-sh_w_ranking----second-agg-w-ranking-agggroup-by-date_partyear-_sys_filt_end_dateorder-by-date_partyear-_sys_filt_end_date-desc",children:"Example SQL\nSELECT\ndate_part('year', _sys_filt_end_date) as year, -- get the year\nSUM(opp_won_amt) as sum_sales, -- get the sum of sales\nCOUNT(DISTINCT _sys_ssr_id) as customer_count, -- get # of buying customers\nAVG(opp_won_amt) as avg_sale_per_customer, -- get avg rev per account\nMAX(opp_won_amt) as biggest_customer_amt, -- get size of biggest account\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size <= (total_won * 0.8) THEN _sys_ssr_id END) as\neighty_pct_revenue_customer_count, -- include all up to 80% of rev to get pareto number\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size <= (total_won * 0.8) THEN _sys_ssr_id END) /\nCAST(COUNT(DISTINCT _sys_ssr_id) as decimal) as eighty_pct_revenue_customer_percentage -- percentage of\npareto number\nFROM -- second agg to do the rankings\n(SELECT\n_sys_filt_end_date, -- get the date\n_sys_ssr_id,\nopp_won_amt,\nROW_NUMBER() OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY _sys_filt_end_date) as\nsale_num, -- get the number of the account based on purchase date\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY _sys_filt_end_date)\nas cumul_amt_won, -- add up sales for cumulative total based on date\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date)) as total_won, -- get the\ntotal won in the grouping (year)\nROW_NUMBER() OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncust_size_rank, -- get the rank per year w/ 1 being the biggest customer\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncumul_by_cust_size -- get the ordering by size\nFROM -- first aggregation just get rev per year and account\n(SELECT\nMAX(_sys_filt_end_date) as _sys_filt_end_date, -- get the highest date for a purchase of that account\n_sys_ssr_id, -- get the unique account\nSUM(SH.opp_won_amt) as opp_won_amt -- sum up all purchases of that account\nFROM ssr_history SH\nWHERE SH.opp_won_amt > 0 -- only care about clients that bought\nAND date_part('year', SH._sys_filt_end_date) >= date_part('year', SH._sys_asof)-5 -- go back 5 years\nAND date_part('year', SH._sys_filt_end_date) < date_part('year', SH._sys_asof) -- exclude current\npartial year\nGROUP BY date_part('year', SH._sys_filt_end_date), SH._sys_ssr_id -- group by account\n) as SH_by_account -- first agg\n) as SH_w_ranking -- second agg w/ ranking agg\nGROUP BY date_part('year', _sys_filt_end_date)\nORDER BY date_part('year', _sys_filt_end_date) DESC;"}),"\n",(0,n.jsx)(t.p,{children:"Copyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 24"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, the revenue concentration has increased over the last 5 years, despite much higher revenue. This is due to\nthe largest clients now being 10X bigger than 5 years ago; a great accomplishment of course, but it does also increase the\nrevenue risk.\nyear sum_sales customer_count avg_sale_per_customer biggest_customer_amt eighty_pct_revenue_customer_\ncount\neighty_pct_revenue_cust\nomer_percentage\n2021 $550,545,641 844 $50,855 $19,558,632 210 25%\n2020 $306,118,228 708 $440,506 $10,037,060 181 26%\n2019 $199,708,922 642 $315,310 $8,693,700 196 31%\n2018 $163,111,824 441 $348,462 $10,173,060 130 29%\n2017 $72,672,920 311 $221,135 $1,961,263 126 41%\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 25"}),"\n",(0,n.jsx)(t.p,{children:"Value Intelligence (VI) - Fairness & Value Creation in the GTM Org\nIf you want to understand rep performance, you must look at what value each rep received, as new leads, existing accounts, or\nnew opportunities from an SDR team. Once you do, you will often fi nd that top performance is correlated with having access to\nhigh potential accounts and a great pipeline, created by other reps.\nVI #1: Lead Generation by Quarter broken down by Creator Dept and Quality\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 26"}),"\n",(0,n.jsx)(t.h2,{id:"vi-1-lead-generation-by-quarter-broken-down-by-creator-dept-and-quality-v12purpose-of-analysisto-build-new-logo-pipeline-you-need-to-generate-good-new-leads-or-accounts-if-you-use-an-account-based-approach-thosecan-be-either-inbound-or-outbound-leads-in-di-ff-erent-industries-and-locations-the-reps-should-then-follow-up-and-attempt-toconvert-those-leads-into-opportunities-some-companies-call-this-sales-quali-fi-ed-leads--sqlthe-most-common-rep-complaint-is-that-the-leads-are-not-of-good-quality-and-that-marketing-is-not-delivering-enough-leadgeneration-value-that-can-easily-be-determined-with-this-analysiscommon-challenges-and-how-to-accomplish-with-the-cien-apithe-challenge-to-determine-lead-value-comes-down-to-having-accurate-prediction-of-the-propensity-of-a-speci-fi-c-lead-to-convertto-do-so-depends-on-a-lot-of-factors-and-is-usually-not-available-in-the-crm-data-sometimes-the-company-does-employ-a-leadscoring-algorithm-but-unless-there-is-transparency-in-how-the-scoring-works-it-is-often-just-a-rough-guide-to-which-leads-arethe-most-likely-to-convert-as-with-other-areas-duplicates-of-leads-and-accounts-will-often-cause-confusing-results-unlessrecti-fi-ed-prior-to-analysisunlike-most-other-analyses-we-are-using-the-hat_leads-entity-here-instead-of-the-ssr_history-since-it-combines-the-fi-rst-threestandardized-steps-in-the-sales-process-lead-gen-untouched-and-prospecting-hence-making-the-queries-easier-to-understandwe-then-join-with-the-users-entity-to-understand-who-created-the-lead-so-we-can-compare-outcomes",children:"VI #1: Lead Generation by Quarter broken down by Creator Dept and Quality (V.1.2)\nPurpose of Analysis\nTo build new logo pipeline, you need to generate good new leads (or accounts if you use an Account Based approach). Those\ncan be either inbound or outbound leads in di ff erent industries and locations. The reps should then follow up and attempt to\nconvert those leads into opportunities (some companies call this Sales Quali fi ed Leads \u2013 SQL).\nThe most common rep complaint is that the leads are not of good quality, and that marketing is not delivering enough lead\ngeneration value. That can easily be determined with this analysis.\nCommon Challenges and How to Accomplish with the Cien API\nThe challenge to determine lead value comes down to having accurate prediction of the propensity of a speci fi c lead to convert.\nTo do so depends on a lot of factors and is usually not available in the CRM data. Sometimes the company does employ a lead\nscoring algorithm, but unless there is transparency in how the scoring works, it is often just a rough guide to which leads are\nthe most likely to convert. As with other areas, duplicates of leads and accounts will often cause confusing results, unless\nrecti fi ed prior to analysis.\nUnlike most other analyses, we are using the hat_leads entity here instead of the ssr_history, since it combines the fi rst three\nstandardized steps in the sales process (lead gen, untouched and prospecting), hence making the queries easier to understand.\nWe then join with the users entity to understand who created the lead so we can compare outcomes."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlcastdate_partyear-hl_sys_filt_start_date-as-varchar---0--castdate_partquarterhl_sys_filt_start_date-as-varchar-as-year_qtr----the-year-and-quartercounthl_sys_doc_id-as-lead_gen_count----how-many-leads-were-generatedcountcase-when-hltrueai_first_touch-is-not-null-then-hl_sys_doc_id-end--as-touched_count----how-manyof-those-were-touchedcountcase-when-hltrueai_converted_date-is-not-null-then-hl_sys_doc_id-end--as-converted_count----howmany-were-converted-into-oppsavghltrueai_probability_of_conversion-as-prob_conversion----what-was-the-avg-prediction-probability-ofconversion-of-allavgcase-when-hltrueai_first_touch-is-not-null-then-hltrueai_probability_of_conversion-end-asprob_conversion_of_touched----what-was-the-prediction-probaility-of-conversion-on-the-ones-that-wereactially-touchedcountcase-when-utrueai_user_role_dept--mkt-then-hl_sys_doc_id-end-as-lead_count_mktng_gen----howmany-were-generated-by-the-marketing-deptcountcase-when-utrueai_user_role_dept--sales-then-hl_sys_doc_id-end-as-lead_count_sales_gen----howmany-were-generated-by-the-sales-deptavgcase-when-utrueai_user_role_dept--mkt-then-hltrueai_probability_of_conversion-end-asprob_conversion_mktng_gen----what-was-the-avg-predicted-prob-of-the-marketing-leadsavgcase-when-utrueai_user_role_dept--sales-then-hltrueai_probability_of_conversion-end-asprob_conversion_sales_gen----what-was-the-avg-predictied-prob-of-the-sales-leadsumhltrueai_vi_leadgen_value-as-vi_lead_gen_value----what-was-the-value-intelligence-lead-value-for-theleads-in-the-quarterfrom-hat_leads-as-hl----use-hat_leads-instead-of-ssr-to-look-at-the-prospecting-in-a-single-rowssr_history-has-3-stepsinner-join-users-as-u----link-in-users-to-understand-creator-roleon-hltrueai_creator_id--u_sys_doc_id----always-_sys_doc_id-is-pkwhere-date_partyear-hl_sys_filt_start_date--date_partyear-hl_sys_asof---2----look-back-1-yearand-date_partyear-hl_sys_filt_start_date--date_partyear-hl_sys_asof----do-not-includecurrent-partial-yeargroup-by-date_partyear-hl_sys_filt_start_date-date_partquarter-hl_sys_filt_start_date----groupby-year-and-quarterorder-by-1-desc----most-recent-first",children:"Example SQL\nCAST(date_part('year', HL._sys_filt_start_date) as VARCHAR) || '-0' || CAST(date_part('quarter',\nHL._sys_filt_start_date) as varchar) as year_qtr, -- the year and quarter\nCount(HL._sys_doc_id) as lead_gen_count, -- how many leads were generated\nCOUNT(CASE WHEN HL.trueai_first_touch is not null THEN HL._sys_doc_id END ) as touched_count, -- how many\nof those were touched\nCOUNT(CASE WHEN HL.trueai_converted_date is not null THEN HL._sys_doc_id END ) as converted_count, -- how\nmany were converted into opps?\nAVG(HL.trueai_probability_of_conversion) as prob_conversion, -- what was the avg prediction probability of\nconversion of all?\nAVG(CASE WHEN HL.trueai_first_touch is not null THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_of_touched, -- what was the prediction probaility of conversion on the ones that were\nactially touched\nCOUNT(CASE WHEN U.trueai_user_role_dept = 'MKT' THEN HL._sys_doc_id END) as lead_count_mktng_gen, -- how\nmany were generated by the Marketing Dept?\nCOUNT(CASE WHEN U.trueai_user_role_dept = 'SALES' THEN HL._sys_doc_id END) as lead_count_sales_gen, -- how\nmany were generated by the Sales Dept?\nAVG(CASE WHEN U.trueai_user_role_dept = 'MKT' THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_mktng_gen, -- what was the avg. predicted prob of the marketing leads\nAVG(CASE WHEN U.trueai_user_role_dept = 'SALES' THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_sales_gen, -- what was the avg predictied prob of the sales lead?\nSUM(HL.trueai_vi_leadgen_value) as vi_lead_gen_value -- what was the value intelligence lead value for the\nleads in the quarter?\nFROM hat_leads AS HL -- use hat_leads instead of SSR to look at the prospecting in a single row\n(ssr_history has 3 steps)\nINNER JOIN users AS U -- link in users to understand creator role\nON HL.trueai_creator_id = U._sys_doc_id -- always _sys_doc_id is PK\nWHERE date_part('year', HL._sys_filt_start_date) > date_part('year', HL._sys_asof) - 2 -- look back 1 year\nAND date_part('year', HL._sys_filt_start_date) <> date_part('year', HL._sys_asof) -- do not include\ncurrent partial year\nGROUP BY date_part('year', HL._sys_filt_start_date), date_part('quarter', HL._sys_filt_start_date) -- group\nby year and quarter\nORDER BY 1 DESC; -- most recent first"}),"\n",(0,n.jsx)(t.p,{children:"Copyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 27"}),"\n",(0,n.jsxs)(t.p,{children:["Sample Result\nIn this case, the absolute number of leads generated per quarter has remained fairly steady. Around 25% of those are actively\nprospected by the sales team. The team is picking leads that are more likely to be converted. Around 5% of the leads are\ngenerated by the sales team themselves. The value created follows the multiplication of the expected probability of conversion\nand total volume of leads.\nyear_qtr lead_gen_\ncount\ntouched_\ncount\nconverted\n",(0,n.jsx)(t.em,{children:"count\nprob_co\nnversion\nprob_conversio\nn_of_touched\nlead_count"}),"\nmktng_gen\nlead_count\n_sales_gen\nprob_conversio\nn_mktng_gen\nprob_conversi\non_sales_gen\nvi_lead_gen_v\nalue\n2021-04 471,002 103,776 23,677 2.0% 7.2% 449,597 18,204 1.4% 15.5% $21,708,564\n2021-03 536,079 101,524 26,233 1.1% 5.1% 510,903 20,473 0.7% 9.8% $18,531,651\n2021-02 472,931 94,659 25,901 1.3% 4.7% 396,213 72,037 0.7% 3.6% $19,138,033\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 28"]}),"\n",(0,n.jsx)(t.p,{children:"Coaching Intelligence (CI) - Rep Skills & Behavior Analysis\nEvery GTM organization wants to develop their reps, but if you don\u2019t understand their current behavior and skills, it is hard to\nprovide meaningful individualized coaching, and next to impossible to evaluate the e ff ectiveness of di ff erent training, available\ntools, etc. Cien changes that. Now, previously unavailable data points are at your fi ngertips.\nCI #1: Rep Hiring & Termination Analysis\nCI #2: Time to Lead\nCI #3: Quarterly Rep Performance Analysis\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 29"}),"\n",(0,n.jsx)(t.h2,{id:"ci-1-rep-hiring--termination-analysis-v12purpose-of-analysisjust-like-you-need-to-understand-gained-and-lost-accounts-you-need-to-understand-how-the-size-of-the-sales-team-haschanged-over-time-and-the-makeup-of-the-roles-of-the-teamcommon-challenges-and-how-to-accomplish-with-the-cien-apiunless-you-have-access-to-accurate-historical-hr-records-building-this-type-of-analysis-from-just-crm-data-can-be-di-ffi-cultsince-the-typical-crm-database-typically-has-hundreds-or-thousands-of-users-that-are-not-directly-part-of-the-sales-teamthe-challenges-are-to-determine-what-roles-users-have-if-they-are-managers-or-individual-contributors-and-if-they-are-stillworking-or-have-been-terminated-but-perhaps-not-yet-set-to-inactive-cien-does-that-automatically-and-also-has-an-admintool-that-lets-you-override-the-role-group-and-manager-classi-fi-cation-manually-that-way-you-know-you-have-the-correctbase-data-for-all-other-performance-analysis-because-it-would-not-make-a-lot-of-sense-to-compare-junior-sdr-with-a-seniorenterprise-rep-for-examplethis-data-resides-in-the-users-entity-which-then-gets-copied-over-to-the-users_history-table-so-it-can-be-tracked-over-timeas-with-most-other-entities-this-data-gets-retroactively-populated-for-multiple-years-upon-initial-processing-of-a-crmdatasetthe-key-fi-elds-are-the-trueai_user_role-a-set-of-15-speci-fi-c-crm-user-roles-trueai_user_role_functionconsolidated-into-higher-level-functions-such-as-ae-am-sdr-etc-and-trueai_termination_date-which-looks-formultiple-signals-that-a-user-is-terminated--eg-no-logins-or-no-activities-in-addition-to-the-active-fl-ag",children:"CI #1: Rep Hiring & Termination Analysis (V.1.2)\nPurpose of Analysis\nJust like you need to understand gained and lost accounts, you need to understand how the size of the sales team has\nchanged over time and the makeup of the roles of the team.\nCommon Challenges and How to Accomplish with the Cien API\nUnless you have access to accurate historical HR records, building this type of analysis from just CRM data can be di ffi cult\nsince the typical CRM database typically has hundreds or thousands of users that are not directly part of the sales team.\nThe challenges are to determine what roles users have, if they are managers or individual contributors and if they are still\nworking or have been terminated (but perhaps not yet set to inactive). Cien does that automatically, and also has an Admin\ntool that lets you override the role, group and manager classi fi cation manually. That way you know you have the correct\nbase data for all other performance analysis (because it would not make a lot of sense to compare junior SDR with a Senior\nEnterprise rep for example).\nThis data resides in the users entity, which then gets copied over to the users_history table, so it can be tracked over time.\nAs with most other entities, this data gets retroactively populated for multiple years upon initial processing of a CRM\ndataset.\nThe key fi elds are the trueai_user_role (a set of 15 speci fi c CRM user roles), trueai_user_role_function\n(consolidated into higher level functions such as AE, AM, SDR etc.) and trueai_termination_date (which looks for\nmultiple signals that a user is terminated \u2013 e.g. no logins or no activities in addition to the active fl ag)."}),"\n",(0,n.jsx)(t.p,{children:"Example SQL\nSELECT\nY.year as year, -- the year\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) < Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) >= Y.Year THEN U._sys_doc_id END) as\nsales_user_count_boy, -- users in the beginning of the year\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) = Y.year THEN U._sys_doc_id END) as\nsales_user_hired, -- count of hired\nCOUNT(DISTINCT CASE WHEN date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) =\nY.year THEN U._sys_doc_id END)* -1 as sales_user_terminated, -- count of terminated (turn into neg\nnumber)\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) <= Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN U._sys_doc_id END) as\nsales_user_count_eoy, -- end of year count, should match next year boy\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'AE' AND date_part('year', U.trueai_hire_date) <=\nY.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN\nU._sys_doc_id END) as ae_count_eoy, -- account execs s at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'AM' AND date_part('year', U.trueai_hire_date) <=\nY.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN\nU._sys_doc_id END) as am_count_eoy,-- account managers at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'SDR' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as sdr_count_eoy,-- sales development reps at end of year (use\nuser_role_function field instead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'MGMT' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as mgmt_count_eoy,-- managers at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 30"}),"\n",(0,n.jsx)(t.h2,{id:"countdistinct-case-when-utrueai_user_role_function--other-and-date_partyear-utrueai_hire_date-yyear-and-date_partyear-coalesceutrueai_termination_date-make_date2100-11--yyearthen-u_sys_doc_id-end-as-other_count_eoy---others-eg-sales-engineers-at-end-of-year-useuser_role_function-field-instead-of-user_role-to-simplify-querycountdistinct-case-when-date_partyear-utrueai_hire_date--yyear-and-date_partyearcoalesceutrueai_termination_date-make_date2100-11--yyear-then-u_sys_doc_id-end-castcountdistinct-case-when-utrueai_user_role_function--mgmt-and-date_partyearutrueai_hire_date--yyear-and-date_partyear-coalesceutrueai_termination_date-make_date210011--yyear-then-u_sys_doc_id-end-as-decimal-as-rep_mgr_ratio_eoyfrom-users-as-u----get-the-user-infocross-join-select-2021-as-year-unionselect-2020-as-year-unionselect-2019-as-year-unionselect-2018-as-year-unionselect-2017-as-year-as-y----create-a-pseudo-year-table-to-cross-reference-againstwhere-utrueai_user_role_dept--sales----only-the-sales-usersgroup-by-yyear----group-by-yearorder-by-1-desc----most-recent-data",children:"COUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'OTHER' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as other_count_eoy,-- others (e.g. sales engineers) at end of year (use\nuser_role_function field instead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) <= Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN U._sys_doc_id END) /\nCAST(COUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'MGMT' AND date_part('year',\nU.trueai_hire_date) <= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100,\n1,1))) > Y.Year THEN U._sys_doc_id END) as decimal) as rep_mgr_ratio_eoy\nFROM users as U -- get the user info\nCROSS JOIN (\nSELECT 2021 as year UNION\nSELECT 2020 as year UNION\nSELECT 2019 as year UNION\nSELECT 2018 as year UNION\nSELECT 2017 as year\n) as Y -- create a pseudo year table to cross reference against\nWHERE U.trueai_user_role_dept = 'SALES' -- only the sales users\nGROUP BY Y.year -- group by year\nORDER BY 1 DESC; -- most recent data"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nIn this case, the team has grown consistently for the last 5 years, with the biggest increase in account management,\nre fl ecting the larger # of supported accounts. Rep to manager ratio (including supporting roles like Sales Engineers) has\ndecreased to 4.7 from around 3.5 a few years ago.\nyear sales_user_\ncount_boy\nsales_user_\nhired\nsales_user_\nterminated\nsales_user_\ncount_eoy\nae_count_\neoy\nam_count_\neoy\nsdr_count_\neoy\nmgmt_count_\neoy\nother_count_\neoy\nrep_mgr_ratio_\neoy\n2021 1954 731 -464 2221 571 358 206 471 615 4.7\n2020 1583 573 -202 1954 546 298 170 445 495 4.3\n2019 1303 552 -272 1583 451 241 111 409 371 3.8\n2018 995 510 -202 1303 370 212 89 357 275 3.7\n2017 766 459 -230 995 249 175 78 295 198 3.5\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 31"}),"\n",(0,n.jsx)(t.h2,{id:"ci-2-time-to-lead-v12purpose-of-analysisit-is-well-known-that-there-is-a-bene-fi-t-to-responding-quickly-to-inbound-leads-however-there-may-be-doubts-about-howcritical-response-time-is-in-a-speci-fi-c-organization-and-how-good-the-reps-are-on-average-to-respond-to-inbound-leads-thisanalysis-makes-it-easy-to-answer-those-questionscommon-challenges-and-how-to-accomplish-with-the-cien-apito-determine-lead-conversion-into-a-sales-quali-fi-ed-lead-you-fi-rst-need-to-have-a-set-of-clean-lead-records-using-the-crmleads-entity-will-often-trick-you-since-the-conversion-may-not-be-recorded-correctly-and-there-might-be-multiple-leads-peraccount-skewing-the-results-downwards-we-recommend-that-you-use-the-derived-hat_leads-entity-instead-which-solvesthat-problem-secondly-its-important-to-understand-which-of-the-leads-are-inbound-cien-makes-that-easy-by-creating-atrueai_leadsource_is_inbound-fi-eld-and-lastly-you-need-to-look-at-activity-and-conversion-patterns-to-determinewhen-a-lead-was-actually-touched-the-trueai_first_touch-fi-eld-gives-you-that-information",children:"CI #2: Time to Lead (V.1.2)\nPurpose of Analysis\nIt is well known that there is a bene fi t to responding quickly to inbound leads. However, there may be doubts about how\ncritical response time is in a speci fi c organization and how good the reps are on average to respond to inbound leads. This\nanalysis makes it easy to answer those questions.\nCommon Challenges and How to Accomplish with the Cien API\nTo determine lead conversion (into a sales quali fi ed lead), you fi rst need to have a set of clean lead records. Using the CRM\nleads entity will often trick you, since the conversion may not be recorded correctly, and there might be multiple leads per\naccount, skewing the results downwards. We recommend that you use the derived hat_leads entity instead, which solves\nthat problem. Secondly, it\u2019s important to understand which of the leads are inbound. Cien makes that easy by creating a\ntrueai_leadsource_is_inbound fi eld. And lastly, you need to look at activity and conversion patterns to determine\nwhen a lead was actually touched. The trueai_first_touch fi eld gives you that information."}),"\n",(0,n.jsx)(t.h2,{id:"example-sqlselectcase-when-cast-hltrueai_first_touch---hltrueai_createdon-as-float--7-then-over-a-weekwhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--3-then-over-three-dayswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--1-then-over-one-daywhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--6-then-over-6-hourswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--1-then-over-1-hourelse-within-minutes-end-as-time_to_touch_bucket----derived-bucketavgcast-hltrueai_first_touch---hltrueai_createdon-as-float---24-as-avg_hours----time-in-hourscounthltrueai_first_touch-as-touched_leads----total-touched-leadsavghltrueai_probability_of_conversion-as-pred_conversion_rate----the-expected-prediction-rategives-you-the-overall-quality-but-will-not-match-the-outcome-rate-because-of-the-filterscounthltrueai_converted_date-as-convertedcounthltrueai_converted_date--castcounttrueai_first_touch-as-float-as-actual_conversion_ratefrom-hat_leads-hl----use-hat_leads-since-those-have-been-consolidated-if-there-were-multiple-leadsandor-accounts-from-a-single-companywhere-hl_sys_filt_end_date-between-hl_sys_asof---180-and-hl_sys_asof---90----lets-only-look-at-thelast-90-daysand-hltrueai_leadsource_is_inbound--true----were-only-interested-in-inbound-leads-coming-to-usand-cast-hltrueai_first_touch---hltrueai_createdon-as-float--21----there-are-leads-that-are-nottouched-for-over-3-weeks---lets-exclude-thosegroup-bycase-when-cast-hltrueai_first_touch---hltrueai_createdon-as-float--7-then-over-a-weekwhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--3-then-over-three-dayswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--1-then-over-one-daywhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--6-then-over-6-hourswhen-cast-hltrueai_first_touch---hltrueai_createdon-as-float--24--1-then-over-1-hourelse-within-minutes-end----great-a-derived-category-field-and-group-by-itorder-by-avg_hours-desc----sort-by-slowest-response-first",children:"Example SQL\nSELECT\nCASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 7 THEN 'Over a week'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 3 THEN 'Over three days'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 1 THEN 'Over one day'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 6 THEN 'Over 6 hours'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 1 THEN 'Over 1 hour'\nELSE 'Within Minutes' END as time_to_touch_bucket, -- derived bucket\nAVG(CAST( HL.trueai_first_touch - HL.trueai_createdon as float) ) * 24 as avg_hours, -- time in hours\ncount(HL.trueai_first_touch) as touched_leads, -- total touched leads\nAVG(HL.trueai_probability_of_conversion) as pred_conversion_rate, -- the expected prediction rate\n(gives you the overall quality but will not match the outcome rate because of the filters)\ncount(HL.trueai_converted_date) as converted,\n(count(HL.trueai_converted_date) / CAST(COUNT(trueai_first_touch) as float)) as actual_conversion_rate\nFROM hat_leads HL -- use hat_leads since those have been consolidated if there were multiple leads\nand/or accounts from a single company\nWHERE HL._sys_filt_end_date BETWEEN HL._sys_asof - 180 AND HL._sys_asof - 90 -- let's only look at the\nlast 90 days\nAND HL.trueai_leadsource_is_inbound = 'true' -- we're only interested in inbound leads coming to us\nAND CAST( HL.trueai_first_touch - HL.trueai_createdon as float) < 21 -- there are leads that are not\ntouched for over 3 weeks - let's exclude those\nGROUP BY\nCASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 7 THEN 'Over a week'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 3 THEN 'Over three days'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 1 THEN 'Over one day'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 6 THEN 'Over 6 hours'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 1 THEN 'Over 1 hour'\nELSE 'Within Minutes' END -- great a derived category field and group by it\nORDER BY avg_hours DESC; -- sort by slowest response first"}),"\n",(0,n.jsx)(t.p,{children:"Sample Result\nThere is a dramatic di ff erence in outcome between responding immediately and later. The pred_conversion_rate\nallows you to understand if the reps are already selecting the best leads for fast follow up (that is the case here). In general,\nthis sales organization is fairly good at responding quickly to leads.\ntime_to_touch_bucket avg_hours touched_leads pred_conversion_rate converted actual_conversion_rate\nOver a week 855.9 85 10% 7 8%\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 32"}),"\n",(0,n.jsx)(t.p,{children:"Over three days 120.1 71 15% 9 13%\nOver one day 47.8 43 21% 11 26%\nOver 6 hours 17.1 45 17% 6 13%\nOver 1 hour 2.6 85 18% 12 14%\nWithin Minutes 0.1 840 23% 215 26%\n^ Top\nCopyright \xa9 2023 - Cien, Inc. - All Rights Reserved. 33"})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>i,x:()=>r});var s=a(6540);const n={},o=s.createContext(n);function i(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);