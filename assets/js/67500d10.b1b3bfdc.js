"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4918],{2708:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"examples","title":"Examples & Queries","description":"\x3c!--","source":"@site/docs/examples.mdx","sourceDirName":".","slug":"/examples","permalink":"/cien-api-documentation/docs/examples","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Examples & Queries","sidebar_label":"Examples & queries"},"sidebar":"docs","previous":{"title":"Get started","permalink":"/cien-api-documentation/docs/intro"},"next":{"title":"ade-001","permalink":"/cien-api-documentation/docs/ade/ade-001"}}');var s=n(4848),i=n(8453);const r={title:"Examples & Queries",sidebar_label:"Examples & queries"},o="Examples & Queries",l={},d=[{value:"Automatic Data Enhancement (ADE)",id:"automatic-data-enhancement-ade",level:2},{value:"Deal Intelligence (DI)",id:"deal-intelligence-di",level:2},{value:"Value Intelligence (VI)",id:"value-intelligence-vi",level:2},{value:"Coaching Intelligence (CI)",id:"coaching-intelligence-ci",level:2},{value:"ORDER BY 1 DESC",id:"order-by-1-desc",level:2},{value:"Sample Result",id:"sample-result",level:2},{value:"In this case, account churn was not a problem during 2018-2020, but doubled in 2021, resulting in a new decrease of active\ncustomers that year.\nyear boy_customers new_customers churned_customers net_new_customers eoy_customers\n2021 1,396 111 175 -64 1,271\n2020 1,273 127 87 40 1,396\n2019 1,115 150 60 90 1,273\n2018 708 199 36 163 1,115",id:"in-this-case-account-churn-was-not-a-problem-during-2018-2020-but-doubled-in-2021-resulting-in-a-new-decrease-of-activecustomers-that-yearyear-boy_customers-new_customers-churned_customers-net_new_customers-eoy_customers2021-1396-111-175--64-12712020-1273-127-87-40-13962019-1115-150-60-90-12732018-708-199-36-163-1115",level:2},{value:"title: Examples &amp; Queries\nsidebar_label: Examples &amp; queries",id:"title-examples--queriessidebar_label-examples--queries",level:2},{value:"Automatic Data Enhancement (ADE)",id:"automatic-data-enhancement-ade-1",level:2},{value:"Deal Intelligence (DI)",id:"deal-intelligence-di-1",level:2},{value:"Value Intelligence (VI)",id:"value-intelligence-vi-1",level:2},{value:"Coaching Intelligence (CI)",id:"coaching-intelligence-ci-1",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis",level:2},{value:"SELECT",id:"select",level:2},{value:"Sample Result",id:"sample-result-1",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis-1",level:2},{value:"SELECT",id:"select-1",level:2},{value:"Sample Result",id:"sample-result-2",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis-2",level:2},{value:"SELECT",id:"select-2",level:2},{value:"Sample Result",id:"sample-result-3",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis-3",level:2},{value:"Sample Result",id:"sample-result-4",level:2},{value:"Coaching Intelligence (CI) - Rep Skills &amp; Behavior Analysis",id:"coaching-intelligence-ci---rep-skills--behavior-analysis",level:3},{value:"CI #3: Quarterly Rep Performance Analysis",id:"ci-3-quarterly-rep-performance-analysis",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis-4",level:2},{value:"SELECT",id:"select-3",level:2},{value:"Sample Result",id:"sample-result-5",level:2},{value:"Purpose of Analysis",id:"purpose-of-analysis-5",level:2},{value:"SELECT",id:"select-4",level:2},{value:"GROUP BY",id:"group-by",level:2},{value:"Sample Result",id:"sample-result-6",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"examples--queries",children:"Examples & Queries"})}),"\n",(0,s.jsx)(t.p,{children:"The Examples & Queries section provides practical, query-driven illustrations of how TrueAI entities can be used to understand data quality, revenue outcomes, value distribution, and rep behavior."}),"\n",(0,s.jsx)(t.p,{children:"Each category below contains multiple examples, each following a consistent structure:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Description"}),"\n",(0,s.jsx)(t.li,{children:"Query"}),"\n",(0,s.jsx)(t.li,{children:"Sample Output"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"These examples are intended to make platform behavior transparent and reproducible."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"automatic-data-enhancement-ade",children:"Automatic Data Enhancement (ADE)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Transparency on the Data Cleanup Process"})}),"\n",(0,s.jsx)(t.p,{children:"Before using derived entities, it is important to understand the quality of the underlying source data and how it has been enhanced by the TrueAI platform."}),"\n",(0,s.jsx)(t.p,{children:"The examples in this section illustrate how raw records are deduplicated, consolidated, and normalized, and how these transformations impact downstream analysis."}),"\n",(0,s.jsx)(t.p,{children:"Examples in this category focus on:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Lead and company deduplication"}),"\n",(0,s.jsx)(t.li,{children:"Master record identification"}),"\n",(0,s.jsxs)(t.li,{children:["Consolidation logic behind derived entities such as ",(0,s.jsx)(t.code,{children:"hat_leads"})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"See also:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"./ade/ade-001",children:"ADE-001: Lead Duplication"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"deal-intelligence-di",children:"Deal Intelligence (DI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Revenue & Buyer Journey Insights"})}),"\n",(0,s.jsx)(t.p,{children:"Understanding deal outcomes requires the ability to isolate specific steps in the sales process and analyze the customer and deal attributes that influence success."}),"\n",(0,s.jsxs)(t.p,{children:["This category demonstrates how the TrueAI platform enables this analysis using the ",(0,s.jsx)(t.code,{children:"ssr"})," and ",(0,s.jsx)(t.code,{children:"ssr_history"})," entities."]}),"\n",(0,s.jsx)(t.p,{children:"Examples in this category focus on:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Buyer journey progression"}),"\n",(0,s.jsx)(t.li,{children:"Deal stage transitions"}),"\n",(0,s.jsx)(t.li,{children:"Revenue outcome drivers"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"See also:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"./di/di-001",children:"DI-001"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"value-intelligence-vi",children:"Value Intelligence (VI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Fairness & Value Creation in the GTM Organization"})}),"\n",(0,s.jsx)(t.p,{children:"Rep performance cannot be evaluated in isolation without understanding how value is distributed across the organization."}),"\n",(0,s.jsx)(t.p,{children:"This category explores how leads, accounts, and opportunities are allocated, and how access to high-potential pipeline often correlates with top performance."}),"\n",(0,s.jsx)(t.p,{children:"Examples in this category focus on:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Lead and account value distribution"}),"\n",(0,s.jsx)(t.li,{children:"Pipeline creation sources"}),"\n",(0,s.jsx)(t.li,{children:"Structural advantages and fairness considerations"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"See also:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"./vi/vi-001",children:"VI-001"})}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"coaching-intelligence-ci",children:"Coaching Intelligence (CI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Rep Skills & Behavior Analysis"})}),"\n",(0,s.jsx)(t.p,{children:"Effective coaching requires a clear understanding of current rep behavior and skill development."}),"\n",(0,s.jsx)(t.p,{children:"This category highlights how previously unavailable behavioral data points can be used to support individualized coaching and evaluate the impact of training programs and tools."}),"\n",(0,s.jsx)(t.p,{children:"Examples in this category focus on:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Rep activity patterns"}),"\n",(0,s.jsx)(t.li,{children:"Skill progression signals"}),"\n",(0,s.jsx)(t.li,{children:"Coaching and enablement effectiveness"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"See also:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"./ci/ci-001-ra",children:"CI-001: Rep Activity Consistency"}),"\naccount management , or, more likely, a combination of those factors.\nCommon Challenges and How to Accomplish with the Cien API\nIt\u2019s always helpful to have a \u201ccustomer-walk\u201d year by year, which shows starting customers, new, churned, retained and\nending customers. With that data you can then calculate churn rate, growth rate, etc, etc. The biggest challenge is to know\nwhen and if an account has actually churned. CRM systems like Salesforce do not have an account status fi eld and churned\ndate fi eld. Sometimes you can get this info from ERP systems; however, then you may have trouble cross-referencing it\nwith the CRM data, since it uses di ff erent names and IDs.\nCien determines the trueai_first_purchase and trueai_churned_on values for accounts in the ssr entity based on\nwhen the fi rst deal was won, and if there are subsequent deals within a year of that point. Please note that this analysis will\nonly be valid if renewals are logged as opps in the CRM. If not, additional data from an ERP/Billing system must be\nsupplied."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL\nSELECT -- just the last 5 years\nYear,\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) < Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) >= Y.year THEN _sys_doc_id END) as boy_customers, --\nget the beginning of year customers\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) = Y.year THEN _sys_doc_id END) as\nnew_customers, -- who bought for the first time\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) as\nchurned_customers, -- who stopped buying this year\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) = Y.year THEN _sys_doc_id END) -\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) as\nnet_new_customers, -- diff between new and lost\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) <= Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) > Y.year THEN _sys_doc_id END) as eoy_customers, --\ncustomers at the end of the year\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_churned_on) = Y.year THEN _sys_doc_id END) / CAST(1 +\nCOUNT(DISTINCT CASE WHEN date_part('year', trueai_first_purchase) < Y.year AND\nCOALESCE(date_part('year', trueai_churned_on),2100) >= Y.year THEN _sys_doc_id END) as float) as\nchurn_rate -- churn rate is boy / churned\nFROM ssr S -- use SSR\nCROSS JOIN (\nSELECT 2021 as year UNION\nSELECT 2020 as year UNION\nSELECT 2019 as year UNION\nSELECT 2018 as year UNION\nSELECT 2017 as year\n) as Y -- create a pseudo year table to cross reference against\nWHERE (S.trueai_account_is_master = 'true' or S.trueai_account_is_master IS NULL) -- remove dupes\nGROUP BY Y.year -- group by year"}),"\n",(0,s.jsx)(t.h2,{id:"order-by-1-desc",children:"ORDER BY 1 DESC"}),"\n",(0,s.jsx)(t.p,{children:"LIMIT 5; -- most recent data"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result",children:"Sample Result"}),"\n",(0,s.jsx)(t.h2,{id:"in-this-case-account-churn-was-not-a-problem-during-2018-2020-but-doubled-in-2021-resulting-in-a-new-decrease-of-activecustomers-that-yearyear-boy_customers-new_customers-churned_customers-net_new_customers-eoy_customers2021-1396-111-175--64-12712020-1273-127-87-40-13962019-1115-150-60-90-12732018-708-199-36-163-1115",children:"In this case, account churn was not a problem during 2018-2020, but doubled in 2021, resulting in a new decrease of active\ncustomers that year.\nyear boy_customers new_customers churned_customers net_new_customers eoy_customers\n2021 1,396 111 175 -64 1,271\n2020 1,273 127 87 40 1,396\n2019 1,115 150 60 90 1,273\n2018 708 199 36 163 1,115"}),"\n",(0,s.jsx)(t.h2,{id:"title-examples--queriessidebar_label-examples--queries",children:"title: Examples & Queries\nsidebar_label: Examples & queries"}),"\n",(0,s.jsx)(t.p,{children:"Welcome. Browse example categories below; each contains specific, copy\u2011ready queries and analyses."}),"\n",(0,s.jsx)(t.h2,{id:"automatic-data-enhancement-ade-1",children:"Automatic Data Enhancement (ADE)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Transparency on the Data Cleanup Process"})}),"\n",(0,s.jsx)(t.p,{children:"Before you start using the new derived entities it makes sense to understand the quality of the underlying data, and how it has been enhanced by the TrueAI platform. The following examples illustrate some of the ways in how this can be done."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["ade-001: ",(0,s.jsx)(t.a,{href:"/docs/ade/ade-001",children:"Lead Duplication"})]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"deal-intelligence-di-1",children:"Deal Intelligence (DI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Revenue & Buyer Journey Insights"})}),"\n",(0,s.jsxs)(t.p,{children:["Being able to isolate specific steps in the sales process, and understand the customer factors affecting outcomes is key to improving outcomes. The TrueAI platform makes that possible with the ",(0,s.jsx)(t.code,{children:"ssr"})," and ",(0,s.jsx)(t.code,{children:"ssr_history"})," entities."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"value-intelligence-vi-1",children:"Value Intelligence (VI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Fairness & Value Creation in the GTM Org"})}),"\n",(0,s.jsx)(t.p,{children:"If you want to understand rep performance, you must look at what value each rep received, as new leads, existing accounts, or new opportunities from an SDR team. Once you do, you will often find that top performance is correlated with having access to high potential accounts and a great pipeline, created by other reps."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"coaching-intelligence-ci-1",children:"Coaching Intelligence (CI)"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"Rep Skills & Behavior Analysis"})}),"\n",(0,s.jsx)(t.p,{children:"Every GTM organization wants to develop their reps, but if you don\u2019t understand their current behavior and skills, it is hard to provide meaningful individualized coaching, and next to impossible to evaluate the effectiveness of different training, available tools, etc. Cien changes that. Now, previously unavailable data points are at your fingertips.\n2021-02 $125,370,416 44% $59,061,419 $23,573,003 19% $101,797,413 52%\n2021-01 $223,850,916 45% $116,651,892 $17,898,678 19% $205,952,238 54%\n2020-04 $204,615,052 48% $117,202,623 $20,250,146 19% $184,364,906 57%\n2020-03 $58,606,686 43% $23,979,042 $18,418,612 19% $40,188,074 56%\n2020-02 $65,489,854 44% $27,049,820 $21,363,079 19% $ 44,126,775 56%\n2020-01 $115,796,755 47% $57,469,296 $14,458,985 19% $101,337,770 55%\n^ Top\nDI #4: Pipeline Analysis by Creator Group & Role (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"While creating pipeline is top-of-mind for GTM leadership, there are often doubts whether speci fi c groups and/or roles are\ncontributing to the overall success of the sales team.\nCommon Challenges and How to Accomplish with the Cien API\nLooking at the pipeline in aggregate is often not helpful, and it\u2019s easy to draw very wrong conclusions. E.g., a common\ncomplaint is that SDRs create poorly quali fi ed pipeline that AEs then struggle to close. To determine if that is the case, you\nneed to know who created the pipeline (hard if there are hando ff s at di ff erent points in the buyer journey). You also need\nto know the role of each rep, and you need to have a way to objectively measure the quality (probability of winning the\ndeal) of each deal. None of this data is available in the raw CRM feed in a standardized format.\nCien makes that analysis easy using the ssr_history and users entities. We are again relying on the\nstep_next_success_prob fi eld, which contains the success prediction of the subsequent step. The\nstep_success_prob predicts the probability of success in the current step. I.e., in this example the probability of a\nconversion into an opportunity."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL"}),"\n",(0,s.jsx)(t.h2,{id:"select",children:"SELECT"}),"\n",(0,s.jsx)(t.p,{children:"U.trueai_group, -- the sales group\nSUM(SH.opp_pipeline_amt) as total_pipeline_created, -- the pipeline created during the period\nAVG(SH.step_next_success_prob) as predicted_opp_win_rate, -- the avg. predicted win rate of that\npipeline (pipeline quality)\nSUM(SH.step_next_success_prob * SH.opp_pipeline_amt) as predicted_opp_win_amount, -- predicted win rate\ntimes amount is the expected won amount resulting from this pipeline\nSUM(CASE WHEN U.trueai_user_role_function = 'AE' THEN SH.opp_pipeline_amt END) as ae_pipeline, -- just\npipeline created by AEs\nAVG(CASE WHEN U.trueai_user_role_function = 'AE' THEN SH.step_next_success_prob END) as\nae_predicted_opp_win_rate, -- the avg. predicted win rate for AE only\nSUM(CASE WHEN U.trueai_user_role_function = 'SDR' THEN SH.opp_pipeline_amt END) as sdr_pipeline, -- just\npipeline created by SDRs\nAVG(CASE WHEN U.trueai_user_role_function = 'SDR' THEN SH.step_next_success_prob END) as\nsdr_predicted_opp_win_rate -- the avg. predicted win rate for SDR only\nFROM ssr AS S -- link in SSR\nINNER JOIN ssr_history AS SH -- the SSR history gives you the bulk of the details\nON S._sys_doc_id = SH._sys_ssr_id\nINNER JOIN users U\nON SH.step_owner_id = U._sys_doc_id\nWHERE date_part('year', SH._sys_filt_end_date) = date_part('year', SH._sys_asof)-1 -- look at last year\nAND (S.trueai_account_is_master = 'true' OR S.trueai_account_is_master IS NULL) -- remove duplicates\nAND SH.step_name in ('Prospecting') -- let's only look at new logo prospecting\nAND SH.step_success = 'true' -- we're only interested in successfully completed steps, since we want to\ndetermine what will happen in the next step (selling)\nAND U.trueai_user_role_function in ('SDR','AE') -- let's exclude other roles\nGROUP BY U.trueai_group -- group by the sales team\nORDER BY 1; -- order by group"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-1",children:"Sample Result"}),"\n",(0,s.jsx)(t.p,{children:"In this case, pipeline quality varies across groups with the LATAM group struggling to create high-quality new logo pipeline.\nWorth noting is that the SDR generated pipeline is signi fi cantly worse than the AE pipeline for the Enterprise group.\ntrueai_group total_pipeline_created predicted_opp_\nwin_rate\npredicted_opp_\nwin_amount\nae_pipeline ae_predicted_opp_win_rate sdr_pipeline sdr_predicted_opp_\nwin_rate\nLATAM $6,461,662 13% $842,752 $991,862 11% $5,469,800 13%\nEMEA $9,097,549 18% $1,710,604 $ 2,820,248 20% $6,277,300 18%\nEnterprise $18,275,038 18% $4,795,024 $ 3,964,363 27% $14,310,675 17%\nMid Market $18,932,554 21% $3,734,812 $14,747,436 22% $4,185,118 17%\n^ Top\nDI #5: Win/Loss Analysis of New Logo Sales (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis-1",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"Everyone wants to understand the secret to winning deals. There are tons of \u201cbest practices\u201d out there, but what is really\ninteresting is what factors have made reps win deals in your GTM organization. Here is a simple analysis that highlights\nwhat tends to be the factors with the biggest impact.\nCommon Challenges and How to Accomplish with the Cien API\nTraditional win/loss analysis is often highly qualitative. The team pulls up X number of completed deals (usually just a\nfraction of all the deals in a quarter) and looks at what happened, what the customer did, how the rep responded and any\nother facts relevant to that speci fi c deal; for example, where the customer was located or which industry it was in.\nThis analysis is often useful to understand broad trends, but it does not help much in ongoing global analysis of all deals\nand the most important factors for those, since most data is usually not readily available in the CRM database. And even if\nthe data points are present, they are usually not adjusted based on data quality. E.g., raw activity count may vary a lot\ndepending on if the rep is automatically recording their activities or not, whereas the stakeholders_all_adj_duration\nfi eld estimates the total time the team has spent on the deal in a speci fi c step, accounting for various levels of logging and\nprep time.\nCien makes that type of analysis available with a minimum of e ff ort using the ssr_history entity grouping by the\nstep_outcome fi eld. For simplicity, this analysis does not include stakeholder roles and levels, (i.e., which dept. and\nseniority a contact has) \u2013 this information can sometimes have a big impact as well and is also available in the same entity."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL"}),"\n",(0,s.jsx)(t.h2,{id:"select-1",children:"SELECT"}),"\n",(0,s.jsx)(t.p,{children:"SH.step_outcome, -- outcome, in this case won or lost\nAVG(SH.step_success_prob) as avg_success_prediction, -- what was the avg prediction for each outcome\nCOUNT(SH._sys_doc_id) AS deal_count, -- count of deals\nAVG(SH.step_length_in_days) AS avg_days, -- see how long each cycle is on avg in days\nAVG(SH.stkhlds_all_dur) / 3600 AS avg_hours_deal, -- total time spent on the deal (divide seconds by\n3600 to get hours)\nAVG(SH.stkhlds_all_dur_eng) / 3600 as avg_engaged_hours_deal, -- how many avtivities on avg were\nengaged\nAVG(SH.stkhlds_all_dur_eng) / CAST(AVG(SH.stkhlds_all_dur +1) as float) engagement_ratio, -- get the\nratio\nAVG(CAST(SH.stkhlds_all_contacts_count as float)) as avg_number_of_contacts_involved -- get the avg\nnumber of contacts (need to cast to get a decimal)\nFROM ssr_history SH -- ssr history has all the sales steps info\nWHERE SH.step_name IN ('New Logo Selling') -- we're only interested in new logo\nAND date_part('year', SH._sys_filt_end_date) = date_part('year', SH._sys_asof) - 1 -- look at full last\nyear\nAND SH.step_outcome IS NOT NULL -- exclude deals that are not yet closed\nGROUP by SH.step_outcome -- group by outcome - in this case won or lost\nORDER BY 1 DESC; -- sort by outcome"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-2",children:"Sample Result"}),"\n",(0,s.jsx)(t.p,{children:"In this case, the analysis shows a very common pattern, that more engagement results in a won deal (i.e., the customer is\nnot going \u201cradio-silent\u201d, and not responding to the rep\u2019s outreach). Factors such as number of buyer contacts involved does\nnot seem to have any impact on outcome. Won deals are wrapped up in around 4 months, but deals that end up being\nlost, run much longer. Not surprisingly, there is a big di ff erence (2X) in the initial prediction of the deal being won.\nIt is important to recall that this prediction is done prior to any actual sales activity has started on the deal \u2013 it does not\nconsider whether the deal is owned by a \u201cgood\u201d or a \u201cbad\u201d rep, or exactly the e ff ort they put into it (E.g., a rep could\npotentially completely ignore a good deal, hence losing it regardless of the initial high probability).\nstep_outcome avg_success_prediction deal_count avg_days avg_hours_deal avg_engaged_hours_deal engagement_ratio avg_number_of_contacts_\ninvolved\nClosed Won 27% 206 111 148 98 66% 3.5\nClosed Lost 13% 2,036 410 42 16 39% 3.5\n^ Top\nDI #6: Revenue Concentration Analysis (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis-2",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"Having too much revenue concentrated in a few large clients poses a great risk for a GTM organization. At the same time,\nmany revenue leaders cite the Pareto principle (80% of your revenue comes from 20% of your clients) as almost inevitable.\nCommon Challenges and How to Accomplish with the Cien API\nThis analysis, unlike most other analyses, is not dependent on a lot of cleaning up of data, except that a customer with\nmultiple purchases within a year needs to be consolidated.\nThe tricky part of this analysis is to use running totals based on di ff erent sort orders. By using the PARTITION and OVER\nkeywords in SQL, it is possible to get the number of the largest account that represents 80% of total annual revenue and\ncompare that to the total number of accounts that bought in the year."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL"}),"\n",(0,s.jsx)(t.h2,{id:"select-2",children:"SELECT"}),"\n",(0,s.jsx)(t.p,{children:"date_part('year', _sys_filt_end_date) as year, -- get the year\nSUM(opp_won_amt) as sum_sales, -- get the sum of sales\nCOUNT(DISTINCT _sys_ssr_id) as customer_count, -- get # of buying customers\nAVG(opp_won_amt) as avg_sale_per_customer, -- get avg rev per account\nMAX(opp_won_amt) as biggest_customer_amt, -- get size of biggest account\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size <= (total_won * 0.8) THEN _sys_ssr_id END) as\neighty_pct_revenue_customer_count, -- include all up to 80% of rev to get pareto number\nCOUNT(DISTINCT CASE WHEN cumul_by_cust_size <= (total_won * 0.8) THEN _sys_ssr_id END) /\nCAST(COUNT(DISTINCT _sys_ssr_id) as decimal) as eighty_pct_revenue_customer_percentage -- percentage of\npareto number\nFROM -- second agg to do the rankings\n(SELECT\n_sys_filt_end_date, -- get the date\n_sys_ssr_id,\nopp_won_amt,\nROW_NUMBER() OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY _sys_filt_end_date) as\nsale_num, -- get the number of the account based on purchase date\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY _sys_filt_end_date)\nas cumul_amt_won, -- add up sales for cumulative total based on date\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date)) as total_won, -- get the\ntotal won in the grouping (year)\nROW_NUMBER() OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncust_size_rank, -- get the rank per year w/ 1 being the biggest customer\nSUM(opp_won_amt) OVER (PARTITION BY date_part('year', _sys_filt_end_date) ORDER BY opp_won_amt DESC) as\ncumul_by_cust_size -- get the ordering by size\nFROM -- first aggregation just get rev per year and account\n(SELECT\nMAX(_sys_filt_end_date) as _sys_filt_end_date, -- get the highest date for a purchase of that account\n_sys_ssr_id, -- get the unique account\nSUM(SH.opp_won_amt) as opp_won_amt -- sum up all purchases of that account\nFROM ssr_history SH\nWHERE SH.opp_won_amt > 0 -- only care about clients that bought\nAND date_part('year', SH._sys_filt_end_date) >= date_part('year', SH._sys_asof)-5 -- go back 5 years\nAND date_part('year', SH._sys_filt_end_date) < date_part('year', SH._sys_asof) -- exclude current\npartial year\nGROUP BY date_part('year', SH._sys_filt_end_date), SH._sys_ssr_id -- group by account\n) as SH_by_account -- first agg\n) as SH_w_ranking -- second agg w/ ranking agg\nGROUP BY date_part('year', _sys_filt_end_date)\nORDER BY date_part('year', _sys_filt_end_date) DESC;"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-3",children:"Sample Result"}),"\n",(0,s.jsx)(t.p,{children:"In this case, the revenue concentration has increased over the last 5 years, despite much higher revenue. This is due to\nthe largest clients now being 10X bigger than 5 years ago; a great accomplishment of course, but it does also increase the\nrevenue risk.\nyear sum_sales customer_count avg_sale_per_customer biggest_customer_amt eighty_pct_revenue_customer_\ncount\neighty_pct_revenue_cust\nomer_percentage\n2021 $550,545,641 844 $50,855 $19,558,632 210 25%\n2020 $306,118,228 708 $440,506 $10,037,060 181 26%\n2019 $199,708,922 642 $315,310 $8,693,700 196 31%\n2018 $163,111,824 441 $348,462 $10,173,060 130 29%\n2017 $72,672,920 311 $221,135 $1,961,263 126 41%\n^ Top\nValue Intelligence (VI) - Fairness & Value Creation in the GTM Org\nIf you want to understand rep performance, you must look at what value each rep received, as new leads, existing accounts, or\nnew opportunities from an SDR team. Once you do, you will often fi nd that top performance is correlated with having access to\nhigh potential accounts and a great pipeline, created by other reps.\nVI #1: Lead Generation by Quarter broken down by Creator Dept and Quality\nVI #1: Lead Generation by Quarter broken down by Creator Dept and Quality (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis-3",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"To build new logo pipeline, you need to generate good new leads (or accounts if you use an Account Based approach). Those\ncan be either inbound or outbound leads in di ff erent industries and locations. The reps should then follow up and attempt to\nconvert those leads into opportunities (some companies call this Sales Quali fi ed Leads \u2013 SQL).\nThe most common rep complaint is that the leads are not of good quality, and that marketing is not delivering enough lead\ngeneration value. That can easily be determined with this analysis.\nCommon Challenges and How to Accomplish with the Cien API\nThe challenge to determine lead value comes down to having accurate prediction of the propensity of a speci fi c lead to convert.\nTo do so depends on a lot of factors and is usually not available in the CRM data. Sometimes the company does employ a lead\nscoring algorithm, but unless there is transparency in how the scoring works, it is often just a rough guide to which leads are\nthe most likely to convert. As with other areas, duplicates of leads and accounts will often cause confusing results, unless\nrecti fi ed prior to analysis.\nUnlike most other analyses, we are using the hat_leads entity here instead of the ssr_history, since it combines the fi rst three\nstandardized steps in the sales process (lead gen, untouched and prospecting), hence making the queries easier to understand.\nWe then join with the users entity to understand who created the lead so we can compare outcomes."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL\nCAST(date_part('year', HL._sys_filt_start_date) as VARCHAR) || '-0' || CAST(date_part('quarter',\nHL._sys_filt_start_date) as varchar) as year_qtr, -- the year and quarter\nCount(HL._sys_doc_id) as lead_gen_count, -- how many leads were generated\nCOUNT(CASE WHEN HL.trueai_first_touch is not null THEN HL._sys_doc_id END ) as touched_count, -- how many\nof those were touched\nCOUNT(CASE WHEN HL.trueai_converted_date is not null THEN HL._sys_doc_id END ) as converted_count, -- how\nmany were converted into opps?\nAVG(HL.trueai_probability_of_conversion) as prob_conversion, -- what was the avg prediction probability of\nconversion of all?\nAVG(CASE WHEN HL.trueai_first_touch is not null THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_of_touched, -- what was the prediction probaility of conversion on the ones that were\nactially touched\nCOUNT(CASE WHEN U.trueai_user_role_dept = 'MKT' THEN HL._sys_doc_id END) as lead_count_mktng_gen, -- how\nmany were generated by the Marketing Dept?\nCOUNT(CASE WHEN U.trueai_user_role_dept = 'SALES' THEN HL._sys_doc_id END) as lead_count_sales_gen, -- how\nmany were generated by the Sales Dept?\nAVG(CASE WHEN U.trueai_user_role_dept = 'MKT' THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_mktng_gen, -- what was the avg. predicted prob of the marketing leads\nAVG(CASE WHEN U.trueai_user_role_dept = 'SALES' THEN HL.trueai_probability_of_conversion END) as\nprob_conversion_sales_gen, -- what was the avg predictied prob of the sales lead?\nSUM(HL.trueai_vi_leadgen_value) as vi_lead_gen_value -- what was the value intelligence lead value for the\nleads in the quarter?\nFROM hat_leads AS HL -- use hat_leads instead of SSR to look at the prospecting in a single row\n(ssr_history has 3 steps)\nINNER JOIN users AS U -- link in users to understand creator role\nON HL.trueai_creator_id = U._sys_doc_id -- always _sys_doc_id is PK\nWHERE date_part('year', HL._sys_filt_start_date) > date_part('year', HL._sys_asof) - 2 -- look back 1 year\nAND date_part('year', HL._sys_filt_start_date) <> date_part('year', HL._sys_asof) -- do not include\ncurrent partial year\nGROUP BY date_part('year', HL._sys_filt_start_date), date_part('quarter', HL._sys_filt_start_date) -- group\nby year and quarter\nORDER BY 1 DESC; -- most recent first"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-4",children:"Sample Result"}),"\n",(0,s.jsxs)(t.p,{children:["In this case, the absolute number of leads generated per quarter has remained fairly steady. Around 25% of those are actively\nprospected by the sales team. The team is picking leads that are more likely to be converted. Around 5% of the leads are\ngenerated by the sales team themselves. The value created follows the multiplication of the expected probability of conversion\nand total volume of leads.\nyear_qtr lead_gen_\ncount\ntouched_\ncount\nconverted\n",(0,s.jsx)(t.em,{children:"count\nprob_co\nnversion\nprob_conversio\nn_of_touched\nlead_count"}),"\nmktng_gen\nlead_count\n_sales_gen\nprob_conversio\nn_mktng_gen\nprob_conversi\non_sales_gen\nvi_lead_gen_v\nalue\n2021-04 471,002 103,776 23,677 2.0% 7.2% 449,597 18,204 1.4% 15.5% $21,708,564\n2021-03 536,079 101,524 26,233 1.1% 5.1% 510,903 20,473 0.7% 9.8% $18,531,651\n2021-02 472,931 94,659 25,901 1.3% 4.7% 396,213 72,037 0.7% 3.6% $19,138,033\n^ Top"]}),"\n",(0,s.jsx)(t.h3,{id:"coaching-intelligence-ci---rep-skills--behavior-analysis",children:"Coaching Intelligence (CI) - Rep Skills & Behavior Analysis"}),"\n",(0,s.jsx)(t.p,{children:"Every GTM organization wants to develop their reps, but if you don\u2019t understand their current behavior and skills, it is hard to\nprovide meaningful individualized coaching, and next to impossible to evaluate the e ff ectiveness of di ff erent training, available\ntools, etc. Cien changes that. Now, previously unavailable data points are at your fi ngertips.\nCI #1: Rep Hiring & Termination Analysis\nCI #2: Time to Lead"}),"\n",(0,s.jsx)(t.h2,{id:"ci-3-quarterly-rep-performance-analysis",children:"CI #3: Quarterly Rep Performance Analysis"}),"\n",(0,s.jsx)(t.p,{children:"CI #1: Rep Hiring & Termination Analysis (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis-4",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"Just like you need to understand gained and lost accounts, you need to understand how the size of the sales team has\nchanged over time and the makeup of the roles of the team.\nCommon Challenges and How to Accomplish with the Cien API\nUnless you have access to accurate historical HR records, building this type of analysis from just CRM data can be di ffi cult\nsince the typical CRM database typically has hundreds or thousands of users that are not directly part of the sales team.\nThe challenges are to determine what roles users have, if they are managers or individual contributors and if they are still\nworking or have been terminated (but perhaps not yet set to inactive). Cien does that automatically, and also has an Admin\ntool that lets you override the role, group and manager classi fi cation manually. That way you know you have the correct\nbase data for all other performance analysis (because it would not make a lot of sense to compare junior SDR with a Senior\nEnterprise rep for example).\nThis data resides in the users entity, which then gets copied over to the users_history table, so it can be tracked over time.\nAs with most other entities, this data gets retroactively populated for multiple years upon initial processing of a CRM\ndataset.\nThe key fi elds are the trueai_user_role (a set of 15 speci fi c CRM user roles), trueai_user_role_function\n(consolidated into higher level functions such as AE, AM, SDR etc.) and trueai_termination_date (which looks for\nmultiple signals that a user is terminated \u2013 e.g. no logins or no activities in addition to the active fl ag)."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL"}),"\n",(0,s.jsx)(t.h2,{id:"select-3",children:"SELECT"}),"\n",(0,s.jsx)(t.p,{children:"Y.year as year, -- the year\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) < Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) >= Y.Year THEN U._sys_doc_id END) as\nsales_user_count_boy, -- users in the beginning of the year\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) = Y.year THEN U._sys_doc_id END) as\nsales_user_hired, -- count of hired\nCOUNT(DISTINCT CASE WHEN date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) =\nY.year THEN U._sys_doc_id END)* -1 as sales_user_terminated, -- count of terminated (turn into neg\nnumber)\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) <= Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN U._sys_doc_id END) as\nsales_user_count_eoy, -- end of year count, should match next year boy\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'AE' AND date_part('year', U.trueai_hire_date) <=\nY.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN\nU._sys_doc_id END) as ae_count_eoy, -- account execs s at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'AM' AND date_part('year', U.trueai_hire_date) <=\nY.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN\nU._sys_doc_id END) as am_count_eoy,-- account managers at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'SDR' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as sdr_count_eoy,-- sales development reps at end of year (use\nuser_role_function field instead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'MGMT' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as mgmt_count_eoy,-- managers at end of year (use user_role_function field\ninstead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'OTHER' AND date_part('year', U.trueai_hire_date)\n<= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year\nTHEN U._sys_doc_id END) as other_count_eoy,-- others (e.g. sales engineers) at end of year (use\nuser_role_function field instead of user_role to simplify query)\nCOUNT(DISTINCT CASE WHEN date_part('year', U.trueai_hire_date) <= Y.year AND date_part('year',\nCOALESCE(U.trueai_termination_date, make_date(2100, 1,1))) > Y.Year THEN U._sys_doc_id END) /\nCAST(COUNT(DISTINCT CASE WHEN U.trueai_user_role_function = 'MGMT' AND date_part('year',\nU.trueai_hire_date) <= Y.year AND date_part('year', COALESCE(U.trueai_termination_date, make_date(2100,\n1,1))) > Y.Year THEN U._sys_doc_id END) as decimal) as rep_mgr_ratio_eoy\nFROM users as U -- get the user info\nCROSS JOIN (\nSELECT 2021 as year UNION\nSELECT 2020 as year UNION\nSELECT 2019 as year UNION\nSELECT 2018 as year UNION\nSELECT 2017 as year\n) as Y -- create a pseudo year table to cross reference against\nWHERE U.trueai_user_role_dept = 'SALES' -- only the sales users\nGROUP BY Y.year -- group by year\nORDER BY 1 DESC; -- most recent data"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-5",children:"Sample Result"}),"\n",(0,s.jsx)(t.p,{children:"In this case, the team has grown consistently for the last 5 years, with the biggest increase in account management,\nre fl ecting the larger # of supported accounts. Rep to manager ratio (including supporting roles like Sales Engineers) has\ndecreased to 4.7 from around 3.5 a few years ago.\nyear sales_user_\ncount_boy\nsales_user_\nhired\nsales_user_\nterminated\nsales_user_\ncount_eoy\nae_count_\neoy\nam_count_\neoy\nsdr_count_\neoy\nmgmt_count_\neoy\nother_count_\neoy\nrep_mgr_ratio_\neoy\n2021 1954 731 -464 2221 571 358 206 471 615 4.7\n2020 1583 573 -202 1954 546 298 170 445 495 4.3\n2019 1303 552 -272 1583 451 241 111 409 371 3.8\n2018 995 510 -202 1303 370 212 89 357 275 3.7\n2017 766 459 -230 995 249 175 78 295 198 3.5\n^ Top\nCI #2: Time to Lead (V.1.2)"}),"\n",(0,s.jsx)(t.h2,{id:"purpose-of-analysis-5",children:"Purpose of Analysis"}),"\n",(0,s.jsx)(t.p,{children:"It is well known that there is a bene fi t to responding quickly to inbound leads. However, there may be doubts about how\ncritical response time is in a speci fi c organization and how good the reps are on average to respond to inbound leads. This\nanalysis makes it easy to answer those questions.\nCommon Challenges and How to Accomplish with the Cien API\nTo determine lead conversion (into a sales quali fi ed lead), you fi rst need to have a set of clean lead records. Using the CRM\nleads entity will often trick you, since the conversion may not be recorded correctly, and there might be multiple leads per\naccount, skewing the results downwards. We recommend that you use the derived hat_leads entity instead, which solves\nthat problem. Secondly, it\u2019s important to understand which of the leads are inbound. Cien makes that easy by creating a\ntrueai_leadsource_is_inbound fi eld. And lastly, you need to look at activity and conversion patterns to determine\nwhen a lead was actually touched. The trueai_first_touch fi eld gives you that information."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.p,{children:"Example SQL"}),"\n",(0,s.jsx)(t.h2,{id:"select-4",children:"SELECT"}),"\n",(0,s.jsx)(t.p,{children:"CASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 7 THEN 'Over a week'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 3 THEN 'Over three days'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 1 THEN 'Over one day'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 6 THEN 'Over 6 hours'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 1 THEN 'Over 1 hour'\nELSE 'Within Minutes' END as time_to_touch_bucket, -- derived bucket\nAVG(CAST( HL.trueai_first_touch - HL.trueai_createdon as float) ) * 24 as avg_hours, -- time in hours\ncount(HL.trueai_first_touch) as touched_leads, -- total touched leads\nAVG(HL.trueai_probability_of_conversion) as pred_conversion_rate, -- the expected prediction rate\n(gives you the overall quality but will not match the outcome rate because of the filters)\ncount(HL.trueai_converted_date) as converted,\n(count(HL.trueai_converted_date) / CAST(COUNT(trueai_first_touch) as float)) as actual_conversion_rate\nFROM hat_leads HL -- use hat_leads since those have been consolidated if there were multiple leads\nand/or accounts from a single company\nWHERE HL._sys_filt_end_date BETWEEN HL._sys_asof - 180 AND HL._sys_asof - 90 -- let's only look at the\nlast 90 days\nAND HL.trueai_leadsource_is_inbound = 'true' -- we're only interested in inbound leads coming to us\nAND CAST( HL.trueai_first_touch - HL.trueai_createdon as float) < 21 -- there are leads that are not\ntouched for over 3 weeks - let's exclude those"}),"\n",(0,s.jsx)(t.h2,{id:"group-by",children:"GROUP BY"}),"\n",(0,s.jsx)(t.p,{children:"CASE WHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 7 THEN 'Over a week'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 3 THEN 'Over three days'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) > 1 THEN 'Over one day'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 6 THEN 'Over 6 hours'\nWHEN CAST( HL.trueai_first_touch - HL.trueai_createdon as float) * 24 > 1 THEN 'Over 1 hour'\nELSE 'Within Minutes' END -- great a derived category field and group by it\nORDER BY avg_hours DESC; -- sort by slowest response first"}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"sample-result-6",children:"Sample Result"}),"\n",(0,s.jsx)(t.p,{children:"There is a dramatic di ff erence in outcome between responding immediately and later. The pred_conversion_rate\nallows you to understand if the reps are already selecting the best leads for fast follow up (that is the case here). In general,\nthis sales organization is fairly good at responding quickly to leads.\ntime_to_touch_bucket avg_hours touched_leads pred_conversion_rate converted actual_conversion_rate\nOver a week 855.9 85 10% 7 8%\nOver three days 120.1 71 15% 9 13%\nOver one day 47.8 43 21% 11 26%\nOver 6 hours 17.1 45 17% 6 13%\nOver 1 hour 2.6 85 18% 12 14%\nWithin Minutes 0.1 840 23% 215 26%\n^ Top"})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var a=n(6540);const s={},i=a.createContext(s);function r(e){const t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);